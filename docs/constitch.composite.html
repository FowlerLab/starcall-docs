<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><title>Python: module constitch.composite</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head><body bgcolor="#f0f0f8">

<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="heading">
<tr bgcolor="#7799ee">
<td valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial">&nbsp;<br><big><big><strong><a href="constitch.html"><font color="#ffffff">constitch</font></a>.composite</strong></big></big></font></td
><td align=right valign=bottom
><font color="#ffffff" face="helvetica, arial"><a href=".">index</a><br><a href="file:/home/nicho/starcall-docs/constitch/composite.py">/home/nicho/starcall-docs/constitch/composite.py</a></font></td></tr></table>
    <p></p>
<p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#aa55cc">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Modules</strong></big></font></td></tr>
    
<tr><td bgcolor="#aa55cc"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><table width="100%" summary="list"><tr><td width="25%" valign=top><a href="constitch.alignment.html">constitch.alignment</a><br>
<a href="collections.html">collections</a><br>
<a href="concurrent.html">concurrent</a><br>
<a href="dataclasses.html">dataclasses</a><br>
<a href="imageio.v3.html">imageio.v3</a><br>
</td><td width="25%" valign=top><a href="math.html">math</a><br>
<a href="constitch.merging.html">constitch.merging</a><br>
<a href="numpy.html">numpy</a><br>
<a href="pickle.html">pickle</a><br>
<a href="matplotlib.pyplot.html">matplotlib.pyplot</a><br>
</td><td width="25%" valign=top><a href="random.html">random</a><br>
<a href="skimage.html">skimage</a><br>
<a href="sklearn.html">sklearn</a><br>
<a href="constitch.solving.html">constitch.solving</a><br>
<a href="sys.html">sys</a><br>
</td><td width="25%" valign=top><a href="time.html">time</a><br>
<a href="constitch.utils.html">constitch.utils</a><br>
<a href="warnings.html">warnings</a><br>
</td></tr></table></td></tr></table><p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ee77aa">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Classes</strong></big></font></td></tr>
    
<tr><td bgcolor="#ee77aa"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><dl>
<dt><font face="helvetica, arial"><a href="builtins.html#object">builtins.object</a>
</font></dt><dd>
<dl>
<dt><font face="helvetica, arial"><a href="constitch.composite.html#BBox">BBox</a>
</font></dt><dt><font face="helvetica, arial"><a href="constitch.composite.html#BBoxList">BBoxList</a>
</font></dt><dd>
<dl>
<dt><font face="helvetica, arial"><a href="constitch.composite.html#SubCompositeBBoxList">SubCompositeBBoxList</a>
</font></dt></dl>
</dd>
<dt><font face="helvetica, arial"><a href="constitch.composite.html#CompositeImage">CompositeImage</a>
</font></dt><dd>
<dl>
<dt><font face="helvetica, arial"><a href="constitch.composite.html#SubCompositeImage">SubCompositeImage</a>
</font></dt></dl>
</dd>
<dt><font face="helvetica, arial"><a href="constitch.composite.html#SequentialExecutorFuture">SequentialExecutorFuture</a>
</font></dt><dt><font face="helvetica, arial"><a href="constitch.composite.html#SubCompositeList">SubCompositeList</a>
</font></dt></dl>
</dd>
<dt><font face="helvetica, arial"><a href="concurrent.futures._base.html#Executor">concurrent.futures._base.Executor</a>(<a href="builtins.html#object">builtins.object</a>)
</font></dt><dd>
<dl>
<dt><font face="helvetica, arial"><a href="constitch.composite.html#SequentialExecutor">SequentialExecutor</a>
</font></dt></dl>
</dd>
<dt><font face="helvetica, arial"><a href="constitch.constraints.html#ConstraintSet">constitch.constraints.ConstraintSet</a>(<a href="builtins.html#object">builtins.object</a>)
</font></dt><dd>
<dl>
<dt><font face="helvetica, arial"><a href="constitch.composite.html#CompositeConstraintSet">CompositeConstraintSet</a>
</font></dt><dd>
<dl>
<dt><font face="helvetica, arial"><a href="constitch.composite.html#SubCompositeConstraintSet">SubCompositeConstraintSet</a>
</font></dt></dl>
</dd>
</dl>
</dd>
</dl>
 <p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ffc8d8">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#000000" face="helvetica, arial"><a name="BBox">class <strong>BBox</strong></a>(<a href="builtins.html#object">builtins.object</a>)</font></td></tr>
    
<tr bgcolor="#ffc8d8"><td rowspan=2><tt>&nbsp;&nbsp;&nbsp;</tt></td>
<td colspan=2><tt><a href="#BBox">BBox</a>(position=None,&nbsp;size=None,&nbsp;point1=None,&nbsp;point2=None)<br>
&nbsp;<br>
Represents&nbsp;the&nbsp;bounding&nbsp;box&nbsp;of&nbsp;an&nbsp;image&nbsp;in&nbsp;a&nbsp;<a href="#CompositeImage">CompositeImage</a>.&nbsp;Contains&nbsp;two<br>
representations&nbsp;of&nbsp;the&nbsp;box,&nbsp;as&nbsp;a&nbsp;position&nbsp;and&nbsp;a&nbsp;size&nbsp;and&nbsp;as&nbsp;two&nbsp;points&nbsp;point1&nbsp;and&nbsp;point2<br>
which&nbsp;define&nbsp;the&nbsp;bounding&nbsp;box.&nbsp;Both&nbsp;representations&nbsp;can&nbsp;be&nbsp;retrieved&nbsp;from&nbsp;and&nbsp;assigned&nbsp;to<br>
at&nbsp;<a href="#BBox">BBox</a>.position,&nbsp;<a href="#BBox">BBox</a>.size,&nbsp;<a href="#BBox">BBox</a>.point1,&nbsp;<a href="#BBox">BBox</a>.point2,&nbsp;and&nbsp;a&nbsp;<a href="#BBox">BBox</a>&nbsp;can&nbsp;be&nbsp;constructed<br>
from&nbsp;either.<br>&nbsp;</tt></td></tr>
<tr><td>&nbsp;</td>
<td width="100%">Methods defined here:<br>
<dl><dt><a name="BBox-__init__"><strong>__init__</strong></a>(self, position=None, size=None, point1=None, point2=None)</dt><dd><tt>Initialize&nbsp;self.&nbsp;&nbsp;See&nbsp;help(type(self))&nbsp;for&nbsp;accurate&nbsp;signature.</tt></dd></dl>

<dl><dt><a name="BBox-__repr__"><strong>__repr__</strong></a>(self)</dt><dd><tt>Return&nbsp;repr(self).</tt></dd></dl>

<dl><dt><a name="BBox-__str__"><strong>__str__</strong></a>(self)</dt><dd><tt>Return&nbsp;str(self).</tt></dd></dl>

<dl><dt><a name="BBox-as2d"><strong>as2d</strong></a>(self)</dt><dd><tt>Creates&nbsp;a&nbsp;copy&nbsp;of&nbsp;this&nbsp;box&nbsp;that&nbsp;only&nbsp;has&nbsp;two&nbsp;dimensions,<br>
dropping&nbsp;extra&nbsp;values.</tt></dd></dl>

<dl><dt><a name="BBox-collides"><strong>collides</strong></a>(self, otherbox)</dt><dd><tt>Whether&nbsp;this&nbsp;box&nbsp;collides&nbsp;with&nbsp;the&nbsp;other&nbsp;box.&nbsp;This&nbsp;is&nbsp;defined&nbsp;as&nbsp;either<br>
overlapping&nbsp;or&nbsp;sharing&nbsp;an&nbsp;edge</tt></dd></dl>

<dl><dt><a name="BBox-contains"><strong>contains</strong></a>(self, otherbox)</dt><dd><tt>Whether&nbsp;this&nbsp;box&nbsp;fully&nbsp;contains&nbsp;the&nbsp;other&nbsp;box,&nbsp;meaning&nbsp;every&nbsp;pixel&nbsp;in&nbsp;the&nbsp;other<br>
box&nbsp;is&nbsp;also&nbsp;contained&nbsp;in&nbsp;this&nbsp;box</tt></dd></dl>

<dl><dt><a name="BBox-copy"><strong>copy</strong></a>(self)</dt></dl>

<dl><dt><a name="BBox-overlaps"><strong>overlaps</strong></a>(self, otherbox)</dt><dd><tt>Whether&nbsp;this&nbsp;box&nbsp;overlaps&nbsp;with&nbsp;the&nbsp;other&nbsp;box.&nbsp;This&nbsp;does&nbsp;not&nbsp;consider<br>
sharing&nbsp;an&nbsp;edge&nbsp;as&nbsp;overlapping,&nbsp;to&nbsp;count&nbsp;as&nbsp;overlapping&nbsp;there&nbsp;must&nbsp;be&nbsp;at&nbsp;least<br>
one&nbsp;pixel&nbsp;that&nbsp;is&nbsp;contained&nbsp;in&nbsp;both&nbsp;images</tt></dd></dl>

<hr>
Readonly properties defined here:<br>
<dl><dt><strong>center</strong></dt>
<dd><tt>The&nbsp;center&nbsp;pixel&nbsp;of&nbsp;the&nbsp;image,&nbsp;rounded&nbsp;to&nbsp;the&nbsp;nearest&nbsp;pixel.&nbsp;Equivalent<br>
to&nbsp;np.round(self.<strong>position</strong>&nbsp;+&nbsp;self.<strong>size</strong>&nbsp;/&nbsp;2)</tt></dd>
</dl>
<hr>
Data descriptors defined here:<br>
<dl><dt><strong>__dict__</strong></dt>
<dd><tt>dictionary&nbsp;for&nbsp;instance&nbsp;variables&nbsp;(if&nbsp;defined)</tt></dd>
</dl>
<dl><dt><strong>__weakref__</strong></dt>
<dd><tt>list&nbsp;of&nbsp;weak&nbsp;references&nbsp;to&nbsp;the&nbsp;object&nbsp;(if&nbsp;defined)</tt></dd>
</dl>
<dl><dt><strong>point1</strong></dt>
<dd><tt>The&nbsp;first&nbsp;position&nbsp;that&nbsp;defines&nbsp;the&nbsp;bounding&nbsp;box&nbsp;of&nbsp;the&nbsp;image.<br>
When&nbsp;retrieved&nbsp;is&nbsp;identical&nbsp;to&nbsp;self.<strong>position</strong>.<br>
Can&nbsp;be&nbsp;assigned&nbsp;to,&nbsp;however&nbsp;this&nbsp;is&nbsp;not&nbsp;the&nbsp;same&nbsp;as&nbsp;assigning&nbsp;to&nbsp;self.<strong>position</strong>.<br>
When&nbsp;assigning&nbsp;self.<strong>point2</strong>&nbsp;is&nbsp;maintained,&nbsp;meaning&nbsp;self.<strong>size</strong>&nbsp;will&nbsp;be&nbsp;changed.<br>
The&nbsp;new&nbsp;size&nbsp;is&nbsp;calculated&nbsp;as&nbsp;self.<strong>position</strong>&nbsp;+&nbsp;self.<strong>size</strong>&nbsp;-&nbsp;value<br>
Because&nbsp;of&nbsp;this&nbsp;difference&nbsp;in&nbsp;assignment&nbsp;behavior&nbsp;it&nbsp;cannot&nbsp;be&nbsp;updated<br>
by&nbsp;indexing,&nbsp;ie&nbsp;box.point1[0]&nbsp;=&nbsp;5&nbsp;will&nbsp;fail.</tt></dd>
</dl>
<dl><dt><strong>point2</strong></dt>
<dd><tt>The&nbsp;second&nbsp;position&nbsp;that&nbsp;defines&nbsp;the&nbsp;bounding&nbsp;box&nbsp;of&nbsp;the&nbsp;image.<br>
Calculated&nbsp;as&nbsp;self.<strong>position</strong>&nbsp;+&nbsp;self.<strong>size</strong>.<br>
This&nbsp;can&nbsp;be&nbsp;assigned&nbsp;to,&nbsp;which&nbsp;will&nbsp;change&nbsp;the&nbsp;size&nbsp;of&nbsp;the&nbsp;image,&nbsp;keeping<br>
self.<strong>point1</strong>&nbsp;and&nbsp;self.<strong>position</strong>&nbsp;the&nbsp;same.&nbsp;The&nbsp;new&nbsp;size&nbsp;is&nbsp;calculated&nbsp;as<br>
value&nbsp;-&nbsp;self.<strong>_position</strong><br>
However&nbsp;it&nbsp;cannot&nbsp;be&nbsp;updated&nbsp;by&nbsp;indexing,&nbsp;ie&nbsp;box.point1[0]&nbsp;=&nbsp;5&nbsp;will&nbsp;fail.</tt></dd>
</dl>
<dl><dt><strong>position</strong></dt>
<dd><tt>The&nbsp;position&nbsp;of&nbsp;the&nbsp;image&nbsp;bounding&nbsp;box,&nbsp;measured&nbsp;from&nbsp;the<br>
origin&nbsp;of&nbsp;the&nbsp;image,&nbsp;ie&nbsp;the&nbsp;(0,&nbsp;0)&nbsp;pixel&nbsp;in&nbsp;the&nbsp;top&nbsp;left&nbsp;of<br>
the&nbsp;image.<br>
Setting&nbsp;the&nbsp;position&nbsp;will&nbsp;move&nbsp;the&nbsp;box&nbsp;to&nbsp;the&nbsp;new&nbsp;position,&nbsp;maintaning<br>
the&nbsp;previous&nbsp;size.&nbsp;Additionally&nbsp;the&nbsp;position&nbsp;can&nbsp;be&nbsp;indexed&nbsp;and&nbsp;modified<br>
in&nbsp;place,&nbsp;such&nbsp;as&nbsp;box.position[0]&nbsp;=&nbsp;5.&nbsp;However&nbsp;care&nbsp;should&nbsp;be&nbsp;made&nbsp;sure&nbsp;to<br>
not&nbsp;make&nbsp;a&nbsp;copy&nbsp;when&nbsp;indexing,&nbsp;as&nbsp;then&nbsp;changes&nbsp;will&nbsp;not&nbsp;take&nbsp;effect.</tt></dd>
</dl>
<dl><dt><strong>size</strong></dt>
<dd><tt>The&nbsp;size&nbsp;of&nbsp;the&nbsp;image&nbsp;bounding&nbsp;box,&nbsp;the&nbsp;(width,&nbsp;height)&nbsp;of&nbsp;the&nbsp;image<br>
This&nbsp;can&nbsp;be&nbsp;assigned&nbsp;to,&nbsp;modifying&nbsp;the&nbsp;box&nbsp;size.&nbsp;As&nbsp;with&nbsp;BBox.position,<br>
it&nbsp;can&nbsp;be&nbsp;indexed&nbsp;and&nbsp;assigned&nbsp;to&nbsp;as&nbsp;well.</tt></dd>
</dl>
</td></tr></table> <p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ffc8d8">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#000000" face="helvetica, arial"><a name="BBoxList">class <strong>BBoxList</strong></a>(<a href="builtins.html#object">builtins.object</a>)</font></td></tr>
    
<tr bgcolor="#ffc8d8"><td rowspan=2><tt>&nbsp;&nbsp;&nbsp;</tt></td>
<td colspan=2><tt><a href="#BBoxList">BBoxList</a>(positions=None,&nbsp;sizes=None)<br>
&nbsp;<br>
A&nbsp;list&nbsp;of&nbsp;image&nbsp;bounding&nbsp;boxes,&nbsp;countained&nbsp;in&nbsp;a&nbsp;ConstraintImage.<br>
Supports&nbsp;normal&nbsp;list&nbsp;operations&nbsp;such&nbsp;as&nbsp;indexing,&nbsp;len,&nbsp;index,&nbsp;as&nbsp;well<br>
as&nbsp;bulk&nbsp;operations&nbsp;on&nbsp;all&nbsp;boxes&nbsp;with&nbsp;the&nbsp;numpy&nbsp;array&nbsp;properties<br>
<a href="#BBoxList">BBoxList</a>.positions,&nbsp;<a href="#BBoxList">BBoxList</a>.sizes,&nbsp;and&nbsp;similar<br>&nbsp;</tt></td></tr>
<tr><td>&nbsp;</td>
<td width="100%">Methods defined here:<br>
<dl><dt><a name="BBoxList-__contains__"><strong>__contains__</strong></a>(self, box)</dt></dl>

<dl><dt><a name="BBoxList-__getitem__"><strong>__getitem__</strong></a>(self, index)</dt></dl>

<dl><dt><a name="BBoxList-__init__"><strong>__init__</strong></a>(self, positions=None, sizes=None)</dt><dd><tt>Initialize&nbsp;self.&nbsp;&nbsp;See&nbsp;help(type(self))&nbsp;for&nbsp;accurate&nbsp;signature.</tt></dd></dl>

<dl><dt><a name="BBoxList-__iter__"><strong>__iter__</strong></a>(self)</dt></dl>

<dl><dt><a name="BBoxList-__len__"><strong>__len__</strong></a>(self)</dt></dl>

<dl><dt><a name="BBoxList-__repr__"><strong>__repr__</strong></a>(self)</dt><dd><tt>Return&nbsp;repr(self).</tt></dd></dl>

<dl><dt><a name="BBoxList-__str__"><strong>__str__</strong></a>(self)</dt><dd><tt>Return&nbsp;str(self).</tt></dd></dl>

<dl><dt><a name="BBoxList-append"><strong>append</strong></a>(self, box)</dt><dd><tt>Add&nbsp;a&nbsp;new&nbsp;<a href="#BBox">BBox</a>&nbsp;to&nbsp;this&nbsp;list.&nbsp;Typically&nbsp;users&nbsp;should&nbsp;not&nbsp;need&nbsp;to&nbsp;use<br>
this,&nbsp;instead&nbsp;add&nbsp;images&nbsp;through&nbsp;the&nbsp;<a href="#CompositeImage">CompositeImage</a>.add_images&nbsp;and&nbsp;similar<br>
methods</tt></dd></dl>

<dl><dt><a name="BBoxList-copy"><strong>copy</strong></a>(self)</dt></dl>

<dl><dt><a name="BBoxList-index"><strong>index</strong></a>(self, box)</dt></dl>

<dl><dt><a name="BBoxList-resize"><strong>resize</strong></a>(self, n_dims)</dt><dd><tt>Changes&nbsp;the&nbsp;number&nbsp;of&nbsp;dimensions&nbsp;all&nbsp;boxes&nbsp;in&nbsp;the&nbsp;list&nbsp;have.&nbsp;It&nbsp;is&nbsp;enforced<br>
that&nbsp;all&nbsp;boxes&nbsp;in&nbsp;the&nbsp;list&nbsp;have&nbsp;the&nbsp;same&nbsp;number&nbsp;of&nbsp;dimensions.&nbsp;When&nbsp;adding&nbsp;a&nbsp;dimension<br>
it&nbsp;is&nbsp;filled&nbsp;with&nbsp;zeros</tt></dd></dl>

<dl><dt><a name="BBoxList-setpositions"><strong>setpositions</strong></a>(self, positions)</dt><dd><tt>Applies&nbsp;new&nbsp;positions&nbsp;to&nbsp;all&nbsp;boxes<br>
Args:<br>
&nbsp;&nbsp;&nbsp;&nbsp;positions&nbsp;(sequence&nbsp;of&nbsp;positions,&nbsp;dict&nbsp;of&nbsp;positions,&nbsp;callable):<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Specifies&nbsp;a&nbsp;change&nbsp;in&nbsp;positions&nbsp;for&nbsp;boxes,&nbsp;depending&nbsp;on&nbsp;the&nbsp;type:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If&nbsp;a&nbsp;numpy&nbsp;array,&nbsp;the&nbsp;new&nbsp;positions&nbsp;are&nbsp;set&nbsp;as&nbsp;self.<strong>positions</strong>,&nbsp;maintaining&nbsp;sizes&nbsp;of&nbsp;boxes.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If&nbsp;a&nbsp;dict&nbsp;of&nbsp;positions,&nbsp;each&nbsp;entry&nbsp;will&nbsp;be&nbsp;set&nbsp;as&nbsp;the&nbsp;position&nbsp;of&nbsp;the&nbsp;box&nbsp;at&nbsp;the&nbsp;key.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If&nbsp;a&nbsp;callable,&nbsp;it&nbsp;is&nbsp;invoked&nbsp;for&nbsp;each&nbsp;box.&nbsp;If&nbsp;it&nbsp;returns&nbsp;a&nbsp;new&nbsp;position&nbsp;it&nbsp;is&nbsp;applied&nbsp;to&nbsp;the&nbsp;box</tt></dd></dl>

<hr>
Readonly properties defined here:<br>
<dl><dt><strong>centers</strong></dt>
<dd><tt>The&nbsp;center&nbsp;pixel&nbsp;of&nbsp;all&nbsp;image&nbsp;boxes,&nbsp;rounded&nbsp;to&nbsp;the&nbsp;nearest&nbsp;pixel.</tt></dd>
</dl>
<hr>
Data descriptors defined here:<br>
<dl><dt><strong>__dict__</strong></dt>
<dd><tt>dictionary&nbsp;for&nbsp;instance&nbsp;variables&nbsp;(if&nbsp;defined)</tt></dd>
</dl>
<dl><dt><strong>__weakref__</strong></dt>
<dd><tt>list&nbsp;of&nbsp;weak&nbsp;references&nbsp;to&nbsp;the&nbsp;object&nbsp;(if&nbsp;defined)</tt></dd>
</dl>
<dl><dt><strong>points1</strong></dt>
<dd><tt>The&nbsp;lower&nbsp;point&nbsp;of&nbsp;all&nbsp;bounding&nbsp;boxes&nbsp;in&nbsp;the&nbsp;list&nbsp;as&nbsp;a&nbsp;2d&nbsp;array.&nbsp;See&nbsp;BBox.point1.</tt></dd>
</dl>
<dl><dt><strong>points2</strong></dt>
<dd><tt>The&nbsp;higher&nbsp;point&nbsp;of&nbsp;all&nbsp;bounding&nbsp;boxes&nbsp;in&nbsp;the&nbsp;list&nbsp;as&nbsp;a&nbsp;2d&nbsp;array.&nbsp;See&nbsp;BBox.point2.<br>
Setting&nbsp;this&nbsp;will&nbsp;update&nbsp;all&nbsp;sizes,&nbsp;same&nbsp;as&nbsp;assigning&nbsp;to&nbsp;BBox.point2</tt></dd>
</dl>
<dl><dt><strong>positions</strong></dt>
<dd><tt>The&nbsp;positions&nbsp;of&nbsp;all&nbsp;boxes&nbsp;in&nbsp;the&nbsp;list,&nbsp;as&nbsp;a&nbsp;2d&nbsp;numpy&nbsp;array.&nbsp;See&nbsp;BBox.position<br>
for&nbsp;specifics&nbsp;about&nbsp;the&nbsp;positions&nbsp;of&nbsp;the&nbsp;boxes.<br>
Setting&nbsp;this&nbsp;will&nbsp;update&nbsp;all&nbsp;positions,&nbsp;as&nbsp;well&nbsp;as&nbsp;modifying&nbsp;slices,&nbsp;such<br>
as&nbsp;self.<strong>positions</strong>[:,0]&nbsp;+=&nbsp;100&nbsp;would&nbsp;increase&nbsp;all&nbsp;x&nbsp;positions&nbsp;by&nbsp;100.</tt></dd>
</dl>
<dl><dt><strong>sizes</strong></dt>
<dd><tt>The&nbsp;sizes&nbsp;of&nbsp;all&nbsp;boxes&nbsp;in&nbsp;the&nbsp;list&nbsp;as&nbsp;a&nbsp;2d&nbsp;array.&nbsp;See&nbsp;BBox.size.<br>
Setting&nbsp;this&nbsp;will&nbsp;update&nbsp;all&nbsp;sizes,&nbsp;same&nbsp;as&nbsp;assigning&nbsp;to&nbsp;BBox.size</tt></dd>
</dl>
</td></tr></table> <p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ffc8d8">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#000000" face="helvetica, arial"><a name="CompositeConstraintSet">class <strong>CompositeConstraintSet</strong></a>(<a href="constitch.constraints.html#ConstraintSet">constitch.constraints.ConstraintSet</a>)</font></td></tr>
    
<tr bgcolor="#ffc8d8"><td rowspan=2><tt>&nbsp;&nbsp;&nbsp;</tt></td>
<td colspan=2><tt><a href="#CompositeConstraintSet">CompositeConstraintSet</a>(composite,&nbsp;pair_func,&nbsp;random_pair_func)<br>
&nbsp;<br>
<br>&nbsp;</tt></td></tr>
<tr><td>&nbsp;</td>
<td width="100%"><dl><dt>Method resolution order:</dt>
<dd><a href="constitch.composite.html#CompositeConstraintSet">CompositeConstraintSet</a></dd>
<dd><a href="constitch.constraints.html#ConstraintSet">constitch.constraints.ConstraintSet</a></dd>
<dd><a href="builtins.html#object">builtins.object</a></dd>
</dl>
<hr>
Methods defined here:<br>
<dl><dt><a name="CompositeConstraintSet-__call__"><strong>__call__</strong></a>(self, *args, **kwargs)</dt><dd><tt>Call&nbsp;self&nbsp;as&nbsp;a&nbsp;function.</tt></dd></dl>

<dl><dt><a name="CompositeConstraintSet-__init__"><strong>__init__</strong></a>(self, composite, pair_func, random_pair_func)</dt><dd><tt>Initialize&nbsp;self.&nbsp;&nbsp;See&nbsp;help(type(self))&nbsp;for&nbsp;accurate&nbsp;signature.</tt></dd></dl>

<dl><dt><a name="CompositeConstraintSet-add"><strong>add</strong></a>(self, obj)</dt><dd><tt>Add&nbsp;constraints&nbsp;to&nbsp;this&nbsp;set<br>
&nbsp;<br>
If&nbsp;a&nbsp;constraint&nbsp;between&nbsp;the&nbsp;same&nbsp;images&nbsp;is&nbsp;already&nbsp;present,&nbsp;the&nbsp;constraint<br>
with&nbsp;the&nbsp;lower&nbsp;error&nbsp;is&nbsp;kept&nbsp;and&nbsp;the&nbsp;other&nbsp;is&nbsp;removed.<br>
In&nbsp;the&nbsp;case&nbsp;of&nbsp;equal&nbsp;errors&nbsp;the&nbsp;new&nbsp;constraint&nbsp;is&nbsp;kept<br>
&nbsp;<br>
Args:<br>
&nbsp;&nbsp;&nbsp;&nbsp;other&nbsp;(Constraint&nbsp;or&nbsp;sequence&nbsp;of&nbsp;Constraints):&nbsp;Constraint&nbsp;or&nbsp;Constraints&nbsp;to&nbsp;add<br>
&nbsp;<br>
Raises:<br>
&nbsp;&nbsp;&nbsp;&nbsp;ValueError:&nbsp;The&nbsp;constraint(s)&nbsp;to&nbsp;be&nbsp;added&nbsp;are&nbsp;from&nbsp;a&nbsp;different&nbsp;<a href="#CompositeImage">CompositeImage</a></tt></dd></dl>

<dl><dt><a name="CompositeConstraintSet-filter"><strong>filter</strong></a>(self, *args, random=False, **kwargs)</dt><dd><tt>Returns&nbsp;a&nbsp;new&nbsp;<a href="constitch.constraints.html#ConstraintSet">ConstraintSet</a>&nbsp;with&nbsp;only&nbsp;constraints&nbsp;that&nbsp;are<br>
matching&nbsp;the&nbsp;specified&nbsp;filter.<br>
&nbsp;<br>
Either&nbsp;a&nbsp;ConstraintFilter&nbsp;instance&nbsp;can&nbsp;be&nbsp;passed&nbsp;in&nbsp;or&nbsp;an&nbsp;<a href="builtins.html#object">object</a>&nbsp;that<br>
can&nbsp;be&nbsp;converted&nbsp;into&nbsp;a&nbsp;filter,&nbsp;ie&nbsp;a&nbsp;dictionary&nbsp;or&nbsp;a&nbsp;set&nbsp;of&nbsp;keyword&nbsp;arguments.<br>
See&nbsp;ConstraintFilter&nbsp;for&nbsp;the&nbsp;full&nbsp;documentation&nbsp;on&nbsp;creating&nbsp;a&nbsp;filter.<br>
&nbsp;<br>
Args:<br>
&nbsp;&nbsp;&nbsp;&nbsp;obj:&nbsp;The&nbsp;filter&nbsp;or&nbsp;<a href="builtins.html#object">object</a>&nbsp;to&nbsp;be&nbsp;converted&nbsp;into&nbsp;a&nbsp;filter.&nbsp;Can&nbsp;be&nbsp;many&nbsp;types:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If&nbsp;it&nbsp;is&nbsp;a&nbsp;ConstraintFilter&nbsp;or&nbsp;a&nbsp;callable&nbsp;it&nbsp;is&nbsp;applied&nbsp;as&nbsp;the&nbsp;filter<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If&nbsp;it&nbsp;is&nbsp;a&nbsp;numpy&nbsp;bool&nbsp;array,&nbsp;it&nbsp;is&nbsp;used&nbsp;to&nbsp;filter&nbsp;constraint,&nbsp;mapping&nbsp;with<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;order&nbsp;of&nbsp;self.<strong>constraints</strong><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If&nbsp;it&nbsp;is&nbsp;a&nbsp;set&nbsp;or&nbsp;list&nbsp;of&nbsp;pairs&nbsp;of&nbsp;indices,&nbsp;only&nbsp;constraints&nbsp;for&nbsp;those&nbsp;pairs&nbsp;are&nbsp;kept<br>
&nbsp;&nbsp;&nbsp;&nbsp;limit&nbsp;(int):&nbsp;The&nbsp;maximum&nbsp;number&nbsp;of&nbsp;constraints&nbsp;returned<br>
&nbsp;&nbsp;&nbsp;&nbsp;random&nbsp;(bool):&nbsp;If&nbsp;true&nbsp;the&nbsp;constraints&nbsp;are&nbsp;shuffled<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Normally&nbsp;used&nbsp;in&nbsp;conjunction&nbsp;with&nbsp;the&nbsp;limit&nbsp;argument&nbsp;to&nbsp;select&nbsp;a&nbsp;random<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sample&nbsp;of&nbsp;the&nbsp;constraints<br>
&nbsp;&nbsp;&nbsp;&nbsp;sorted_by&nbsp;(function&nbsp;or&nbsp;str):&nbsp;key&nbsp;to&nbsp;sort&nbsp;constraints&nbsp;on<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Either&nbsp;a&nbsp;function&nbsp;that&nbsp;can&nbsp;be&nbsp;passed&nbsp;as&nbsp;a&nbsp;key&nbsp;to&nbsp;sorted()&nbsp;or&nbsp;a&nbsp;string<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;that&nbsp;is&nbsp;an&nbsp;attribute&nbsp;of&nbsp;a&nbsp;constraint.&nbsp;Used&nbsp;to&nbsp;sort&nbsp;the&nbsp;constraints,&nbsp;normally<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;used&nbsp;with&nbsp;the&nbsp;limit&nbsp;argument<br>
&nbsp;&nbsp;&nbsp;&nbsp;kwargs:&nbsp;Any&nbsp;keyword&nbsp;arguments&nbsp;are&nbsp;passed&nbsp;to&nbsp;a&nbsp;new&nbsp;ConstraintFilter()&nbsp;constructor<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and&nbsp;applied&nbsp;as&nbsp;a&nbsp;filter<br>
&nbsp;<br>
Returns:<br>
&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;new&nbsp;<a href="constitch.constraints.html#ConstraintSet">ConstraintSet</a>&nbsp;with&nbsp;the&nbsp;filtered&nbsp;Constraints</tt></dd></dl>

<hr>
Methods inherited from <a href="constitch.constraints.html#ConstraintSet">constitch.constraints.ConstraintSet</a>:<br>
<dl><dt><a name="CompositeConstraintSet-__contains__"><strong>__contains__</strong></a>(self, obj)</dt><dd><tt>Tests&nbsp;if&nbsp;a&nbsp;Constraint&nbsp;or&nbsp;a&nbsp;pair&nbsp;is&nbsp;contained</tt></dd></dl>

<dl><dt><a name="CompositeConstraintSet-__getattr__"><strong>__getattr__</strong></a>(self, name)</dt><dd><tt>Some&nbsp;attributes&nbsp;of&nbsp;Constraint&nbsp;can&nbsp;be&nbsp;accessed&nbsp;from&nbsp;a&nbsp;<a href="constitch.constraints.html#ConstraintSet">ConstraintSet</a>,&nbsp;returned&nbsp;as&nbsp;a&nbsp;numpy<br>
array&nbsp;of&nbsp;the&nbsp;values&nbsp;for&nbsp;all&nbsp;constraints,&nbsp;in&nbsp;the&nbsp;order&nbsp;of&nbsp;self.<a href="#CompositeConstraintSet-keys">keys</a>()</tt></dd></dl>

<dl><dt><a name="CompositeConstraintSet-__getitem__"><strong>__getitem__</strong></a>(self, pair)</dt></dl>

<dl><dt><a name="CompositeConstraintSet-__iter__"><strong>__iter__</strong></a>(self)</dt><dd><tt>Iterates&nbsp;through&nbsp;all&nbsp;constraints&nbsp;in&nbsp;this&nbsp;set</tt></dd></dl>

<dl><dt><a name="CompositeConstraintSet-__len__"><strong>__len__</strong></a>(self)</dt></dl>

<dl><dt><a name="CompositeConstraintSet-calculate"><strong>calculate</strong></a>(self, aligner=None, executor=None)</dt><dd><tt>Calculates&nbsp;new&nbsp;constraints&nbsp;using&nbsp;an&nbsp;alignment&nbsp;algorithm<br>
&nbsp;<br>
For&nbsp;every&nbsp;constraint&nbsp;the&nbsp;provided&nbsp;aligner&nbsp;is&nbsp;invoked&nbsp;to&nbsp;calculate<br>
a&nbsp;new&nbsp;constraint.&nbsp;See&nbsp;constitch.alignment&nbsp;for&nbsp;more&nbsp;information&nbsp;on<br>
alignment.<br>
&nbsp;<br>
Args:<br>
&nbsp;&nbsp;&nbsp;&nbsp;aligner&nbsp;(constitch.Aligner):&nbsp;default&nbsp;self.<strong>composite</strong>.aligner<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;aligner&nbsp;that&nbsp;is&nbsp;used&nbsp;to&nbsp;calculate&nbsp;the&nbsp;new&nbsp;constraints<br>
&nbsp;&nbsp;&nbsp;&nbsp;executor&nbsp;(concurrent.futures.<a href="concurrent.futures._base.html#Executor">Executor</a>):&nbsp;default&nbsp;self.<strong>composite</strong>.executor<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;thread&nbsp;or&nbsp;process&nbsp;pool&nbsp;instance&nbsp;to&nbsp;parallelize&nbsp;the&nbsp;computation,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;as&nbsp;some&nbsp;aligners&nbsp;can&nbsp;be&nbsp;quite&nbsp;slow</tt></dd></dl>

<dl><dt><a name="CompositeConstraintSet-debug"><strong>debug</strong></a>(self, *args, **kwargs)</dt><dd><tt>A&nbsp;shorthand&nbsp;for&nbsp;self.<strong>composite</strong>.debug</tt></dd></dl>

<dl><dt><a name="CompositeConstraintSet-find"><strong>find</strong></a>(self, obj=None, **kwargs)</dt><dd><tt>Returns&nbsp;the&nbsp;first&nbsp;constraint&nbsp;to&nbsp;match&nbsp;a&nbsp;filter<br>
&nbsp;<br>
Uses&nbsp;the&nbsp;same&nbsp;interface&nbsp;as&nbsp;self.<strong>filter</strong>&nbsp;but&nbsp;returns&nbsp;the&nbsp;first<br>
constraint&nbsp;that&nbsp;matches&nbsp;the&nbsp;filter</tt></dd></dl>

<dl><dt><a name="CompositeConstraintSet-fit_model"><strong>fit_model</strong></a>(self, model=None, outliers=False, random_state=12345)</dt><dd><tt>Fits&nbsp;a&nbsp;linear&nbsp;model&nbsp;to&nbsp;the&nbsp;constraints&nbsp;in&nbsp;this&nbsp;set<br>
&nbsp;<br>
This&nbsp;learns&nbsp;the&nbsp;motion&nbsp;of&nbsp;the&nbsp;microscope&nbsp;stage,&nbsp;which&nbsp;can&nbsp;be&nbsp;used&nbsp;to&nbsp;fill&nbsp;in<br>
constraints&nbsp;in&nbsp;areas&nbsp;where&nbsp;there&nbsp;are&nbsp;not&nbsp;enough&nbsp;features&nbsp;to&nbsp;align.<br>
&nbsp;<br>
The&nbsp;model&nbsp;is&nbsp;trained&nbsp;on&nbsp;the&nbsp;relation&nbsp;between&nbsp;the&nbsp;offset&nbsp;in&nbsp;image&nbsp;positions,<br>
that&nbsp;is&nbsp;box2.position&nbsp;-&nbsp;bos1.position,&nbsp;and&nbsp;the&nbsp;offset&nbsp;specified&nbsp;in&nbsp;dx&nbsp;and&nbsp;dy.<br>
&nbsp;<br>
Args:<br>
&nbsp;&nbsp;&nbsp;&nbsp;model&nbsp;(sklearn&nbsp;base&nbsp;model):&nbsp;default&nbsp;constitch.SimpleOffsetModel()<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;linear&nbsp;model&nbsp;to&nbsp;train,&nbsp;it&nbsp;should&nbsp;be&nbsp;a&nbsp;sklearn&nbsp;model&nbsp;class,&nbsp;meaning<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;it&nbsp;has&nbsp;a&nbsp;fit&nbsp;and&nbsp;predict&nbsp;method.&nbsp;The&nbsp;fit&nbsp;method&nbsp;is&nbsp;called<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;X&nbsp;as&nbsp;a&nbsp;4&nbsp;column&nbsp;matrix&nbsp;containing&nbsp;the&nbsp;x&nbsp;and&nbsp;y&nbsp;positions&nbsp;of&nbsp;image1&nbsp;and&nbsp;image2<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;all&nbsp;constraints,&nbsp;and&nbsp;y&nbsp;as&nbsp;a&nbsp;2&nbsp;column&nbsp;matrix&nbsp;with&nbsp;dx&nbsp;and&nbsp;dy&nbsp;for&nbsp;all&nbsp;constraints<br>
&nbsp;&nbsp;&nbsp;&nbsp;outliers&nbsp;(bool):&nbsp;Whether&nbsp;to&nbsp;use&nbsp;an&nbsp;outlier&nbsp;resistant&nbsp;model<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If&nbsp;set&nbsp;to&nbsp;True&nbsp;the&nbsp;provided&nbsp;model&nbsp;is&nbsp;wrapped&nbsp;in&nbsp;sklearn.linear_model.RANSACRegressor,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and&nbsp;the&nbsp;inlier&nbsp;and&nbsp;outlier&nbsp;classifications&nbsp;are&nbsp;added&nbsp;onto&nbsp;the&nbsp;returned<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result&nbsp;as&nbsp;result.inliers&nbsp;and&nbsp;result.outliers.&nbsp;These&nbsp;are&nbsp;new&nbsp;ConstraintSets<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;containing&nbsp;only&nbsp;the&nbsp;inliers&nbsp;and&nbsp;outliers&nbsp;that&nbsp;the&nbsp;model&nbsp;classified<br>
&nbsp;&nbsp;&nbsp;&nbsp;random_state:&nbsp;the&nbsp;random&nbsp;state&nbsp;passed&nbsp;to&nbsp;RANSACRegressor&nbsp;when&nbsp;outliers=True<br>
&nbsp;<br>
Returns:<br>
&nbsp;&nbsp;&nbsp;&nbsp;An&nbsp;Aligner&nbsp;class&nbsp;that&nbsp;can&nbsp;be&nbsp;used&nbsp;to&nbsp;calculate&nbsp;new&nbsp;constraints,&nbsp;using<br>
&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;linear&nbsp;model&nbsp;fit&nbsp;here.</tt></dd></dl>

<dl><dt><a name="CompositeConstraintSet-items"><strong>items</strong></a>(self)</dt></dl>

<dl><dt><a name="CompositeConstraintSet-keys"><strong>keys</strong></a>(self)</dt></dl>

<dl><dt><a name="CompositeConstraintSet-merge"><strong>merge</strong></a>(self, other, *others)</dt><dd><tt>Returns&nbsp;a&nbsp;new&nbsp;ConstaintSet&nbsp;with&nbsp;combined&nbsp;constraints&nbsp;from&nbsp;this&nbsp;and&nbsp;other&nbsp;sets<br>
&nbsp;<br>
As&nbsp;with&nbsp;<a href="#CompositeConstraintSet-add">add</a>(),&nbsp;if&nbsp;constraints&nbsp;between&nbsp;the&nbsp;same&nbsp;image&nbsp;pair&nbsp;are&nbsp;present&nbsp;in&nbsp;both&nbsp;sets<br>
then&nbsp;the&nbsp;constraint&nbsp;with&nbsp;the&nbsp;lowest&nbsp;error&nbsp;is&nbsp;kept,&nbsp;with&nbsp;ties&nbsp;defaulting&nbsp;to&nbsp;constraints&nbsp;in&nbsp;the<br>
last&nbsp;passed&nbsp;in&nbsp;set<br>
&nbsp;<br>
Args:<br>
&nbsp;&nbsp;&nbsp;&nbsp;other&nbsp;(Constraint&nbsp;or&nbsp;sequence&nbsp;of&nbsp;Constraints):&nbsp;Constraint&nbsp;or&nbsp;Constraints&nbsp;to<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;merge&nbsp;with&nbsp;new&nbsp;set<br>
&nbsp;<br>
Raises:<br>
&nbsp;&nbsp;&nbsp;&nbsp;ValueError:&nbsp;The&nbsp;constraints&nbsp;to&nbsp;be&nbsp;merged&nbsp;are&nbsp;from&nbsp;a&nbsp;different&nbsp;ConstraintImage</tt></dd></dl>

<dl><dt><a name="CompositeConstraintSet-neighborhood_difference"><strong>neighborhood_difference</strong></a>(self, constraint)</dt><dd><tt>A&nbsp;metric&nbsp;that&nbsp;measures&nbsp;how&nbsp;well&nbsp;this&nbsp;constraint&nbsp;matches&nbsp;the&nbsp;image<br>
positions,&nbsp;taking&nbsp;into&nbsp;account&nbsp;neighboring&nbsp;constraints.</tt></dd></dl>

<dl><dt><a name="CompositeConstraintSet-neighboring"><strong>neighboring</strong></a>(self, constraint, depth=1)</dt><dd><tt>Returns&nbsp;a&nbsp;new&nbsp;<a href="constitch.constraints.html#ConstraintSet">ConstraintSet</a>&nbsp;containing&nbsp;only&nbsp;constraints&nbsp;that<br>
are&nbsp;connected&nbsp;to&nbsp;an&nbsp;initial&nbsp;constraint&nbsp;or&nbsp;image<br>
&nbsp;<br>
The&nbsp;starting&nbsp;location&nbsp;is&nbsp;specified&nbsp;by&nbsp;passing&nbsp;either&nbsp;a&nbsp;constraint,&nbsp;a<br>
image&nbsp;index,&nbsp;or&nbsp;a&nbsp;sequence&nbsp;of&nbsp;either.&nbsp;Constraints&nbsp;are&nbsp;added&nbsp;by&nbsp;BFS&nbsp;to<br>
the&nbsp;requested&nbsp;depth.&nbsp;Any&nbsp;constraints&nbsp;provided&nbsp;as&nbsp;a&nbsp;starting&nbsp;location<br>
are&nbsp;not&nbsp;included&nbsp;in&nbsp;the&nbsp;resulting&nbsp;set</tt></dd></dl>

<dl><dt><a name="CompositeConstraintSet-progress"><strong>progress</strong></a>(self, iter, **kwargs)</dt><dd><tt>A&nbsp;shorthand&nbsp;for&nbsp;self.<strong>composite</strong>.progress</tt></dd></dl>

<dl><dt><a name="CompositeConstraintSet-remove"><strong>remove</strong></a>(self, other)</dt><dd><tt>Remove&nbsp;constraints&nbsp;from&nbsp;this&nbsp;set<br>
&nbsp;<br>
Args:<br>
&nbsp;&nbsp;&nbsp;&nbsp;other&nbsp;(Constraint,&nbsp;(int,&nbsp;int)&nbsp;or&nbsp;sequence&nbsp;of&nbsp;either):<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;constraints&nbsp;or&nbsp;pairs&nbsp;to&nbsp;be&nbsp;removed<br>
&nbsp;<br>
Raises:<br>
&nbsp;&nbsp;&nbsp;&nbsp;KeyError:&nbsp;The&nbsp;specified&nbsp;constraint&nbsp;does&nbsp;not&nbsp;exist</tt></dd></dl>

<dl><dt><a name="CompositeConstraintSet-solve"><strong>solve</strong></a>(self, solver=None)</dt><dd><tt>Solve&nbsp;the&nbsp;constraints&nbsp;to&nbsp;get&nbsp;a&nbsp;global&nbsp;position&nbsp;for&nbsp;each&nbsp;image<br>
&nbsp;<br>
Args:<br>
&nbsp;&nbsp;&nbsp;&nbsp;solver&nbsp;(constitch.Solver):&nbsp;default&nbsp;constitch.LinearSolver()<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;solver&nbsp;class&nbsp;that&nbsp;is&nbsp;used&nbsp;to&nbsp;combine&nbsp;the&nbsp;overconstrainted<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;system&nbsp;of&nbsp;constraints&nbsp;and&nbsp;optimize&nbsp;for&nbsp;the&nbsp;best&nbsp;global&nbsp;positions.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;More&nbsp;info&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;constitch.solving<br>
&nbsp;<br>
Returns:<br>
&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;solver&nbsp;instance,&nbsp;with&nbsp;an&nbsp;attribute&nbsp;positions&nbsp;containing&nbsp;a&nbsp;dict<br>
&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;image&nbsp;indices&nbsp;to&nbsp;their&nbsp;global&nbsp;positions</tt></dd></dl>

<dl><dt><a name="CompositeConstraintSet-values"><strong>values</strong></a>(self)</dt></dl>

<hr>
Readonly properties inherited from <a href="constitch.constraints.html#ConstraintSet">constitch.constraints.ConstraintSet</a>:<br>
<dl><dt><strong>composite</strong></dt>
<dd><tt>The&nbsp;composite&nbsp;that&nbsp;contains&nbsp;all&nbsp;the&nbsp;images&nbsp;of&nbsp;the&nbsp;constraints&nbsp;of&nbsp;this<br>
set.&nbsp;If&nbsp;constraints&nbsp;from&nbsp;a&nbsp;different&nbsp;constraint&nbsp;are&nbsp;added,&nbsp;an&nbsp;error&nbsp;will&nbsp;be<br>
raised.&nbsp;If&nbsp;this&nbsp;instance&nbsp;contains&nbsp;no&nbsp;constraints&nbsp;this&nbsp;will&nbsp;return&nbsp;None</tt></dd>
</dl>
<hr>
Data descriptors inherited from <a href="constitch.constraints.html#ConstraintSet">constitch.constraints.ConstraintSet</a>:<br>
<dl><dt><strong>__dict__</strong></dt>
<dd><tt>dictionary&nbsp;for&nbsp;instance&nbsp;variables&nbsp;(if&nbsp;defined)</tt></dd>
</dl>
<dl><dt><strong>__weakref__</strong></dt>
<dd><tt>list&nbsp;of&nbsp;weak&nbsp;references&nbsp;to&nbsp;the&nbsp;object&nbsp;(if&nbsp;defined)</tt></dd>
</dl>
<hr>
Data and other attributes inherited from <a href="constitch.constraints.html#ConstraintSet">constitch.constraints.ConstraintSet</a>:<br>
<dl><dt><strong>ATTRS</strong> = ['dx', 'dy', 'score', 'error', 'overlap', 'overlap_x', 'overlap_y', 'overlap_ratio', 'overlap_ratio_x', 'overlap_ratio_y', 'size', 'difference']</dl>

</td></tr></table> <p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ffc8d8">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#000000" face="helvetica, arial"><a name="CompositeImage">class <strong>CompositeImage</strong></a>(<a href="builtins.html#object">builtins.object</a>)</font></td></tr>
    
<tr bgcolor="#ffc8d8"><td rowspan=2><tt>&nbsp;&nbsp;&nbsp;</tt></td>
<td colspan=2><tt><a href="#CompositeImage">CompositeImage</a>(images=None,&nbsp;positions=None,&nbsp;boxes=None,&nbsp;scale='pixel',&nbsp;channel_axis=None,&nbsp;grid_size=None,&nbsp;tile_shape=None,&nbsp;overlap=0.1,&nbsp;aligner=None,&nbsp;precalculate=False,&nbsp;debug=True,&nbsp;progress=False,&nbsp;executor=None)<br>
&nbsp;<br>
This&nbsp;class&nbsp;encapsulates&nbsp;the&nbsp;whole&nbsp;stitching&nbsp;process,&nbsp;the&nbsp;smallest&nbsp;example&nbsp;of&nbsp;stitching&nbsp;is<br>
shown&nbsp;below:<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;composite&nbsp;=&nbsp;fisseq.stitching.<a href="#CompositeImage">CompositeImage</a>()<br>
&nbsp;&nbsp;&nbsp;&nbsp;composite.<a href="#CompositeImage-add_images">add_images</a>(images)<br>
&nbsp;&nbsp;&nbsp;&nbsp;composite.calc_constraints()<br>
&nbsp;&nbsp;&nbsp;&nbsp;composite.filter_constraints()<br>
&nbsp;&nbsp;&nbsp;&nbsp;composite.solve_constraints(filter_outliers=True)<br>
&nbsp;&nbsp;&nbsp;&nbsp;full_image&nbsp;=&nbsp;composite.stitch_images()<br>
&nbsp;<br>
This&nbsp;class&nbsp;is&nbsp;meant&nbsp;to&nbsp;be&nbsp;adaptable&nbsp;to&nbsp;many&nbsp;different&nbsp;stitching&nbsp;use&nbsp;cases,&nbsp;and&nbsp;each&nbsp;step<br>
can&nbsp;be&nbsp;customized&nbsp;and&nbsp;configured.&nbsp;The&nbsp;general&nbsp;steps&nbsp;for&nbsp;the&nbsp;stitching&nbsp;of&nbsp;a&nbsp;group&nbsp;images&nbsp;are&nbsp;as&nbsp;follows:<br>
&nbsp;<br>
&nbsp;<br>
Creating&nbsp;the&nbsp;composite<br>
&nbsp;<br>
To&nbsp;begin&nbsp;we&nbsp;have&nbsp;to&nbsp;instantiate&nbsp;the&nbsp;<a href="#CompositeImage">CompositeImage</a>&nbsp;class.<br>
The&nbsp;full&nbsp;method&nbsp;signature&nbsp;can&nbsp;be&nbsp;found&nbsp;at<br>
<a href="#CompositeImage-__init__">__init__</a>()&nbsp;but&nbsp;some&nbsp;important&nbsp;parameters&nbsp;are&nbsp;described&nbsp;below:<br>
&nbsp;<br>
The&nbsp;executor&nbsp;is&nbsp;what&nbsp;the&nbsp;composite&nbsp;uses&nbsp;to&nbsp;perform&nbsp;intensive&nbsp;computation<br>
tasks,&nbsp;namely&nbsp;calculating&nbsp;the&nbsp;alignment&nbsp;of&nbsp;all&nbsp;the&nbsp;images.&nbsp;If&nbsp;provided<br>
it&nbsp;should&nbsp;be&nbsp;a&nbsp;concurrent.futures.<a href="concurrent.futures._base.html#Executor">Executor</a>&nbsp;<a href="builtins.html#object">object</a>,&nbsp;for&nbsp;example<br>
concurrent.futures.ThreadPoolExecutor.&nbsp;Importantly,&nbsp;concurrent.futures.ProcessPoolExecutor<br>
does&nbsp;not&nbsp;work&nbsp;very&nbsp;well&nbsp;as&nbsp;the&nbsp;images&nbsp;need&nbsp;to&nbsp;be&nbsp;passed&nbsp;to&nbsp;the&nbsp;executor<br>
and&nbsp;in&nbsp;the&nbsp;case&nbsp;of&nbsp;ProcessPoolExecutor&nbsp;this&nbsp;means&nbsp;they&nbsp;need&nbsp;to&nbsp;be&nbsp;pickled<br>
and&nbsp;unpickled&nbsp;to&nbsp;get&nbsp;to&nbsp;the&nbsp;other&nbsp;process.&nbsp;ThreadPoolExecutor&nbsp;doesn't&nbsp;need<br>
this&nbsp;as&nbsp;the&nbsp;threads&nbsp;can&nbsp;share&nbsp;memory,&nbsp;but&nbsp;it&nbsp;doesn't&nbsp;take&nbsp;full&nbsp;advantage&nbsp;of<br>
multithreading&nbsp;as&nbsp;the&nbsp;python&nbsp;GIL&nbsp;prevents&nbsp;python&nbsp;code&nbsp;from&nbsp;running&nbsp;in&nbsp;parallel.<br>
Luckily&nbsp;most&nbsp;of&nbsp;the&nbsp;intensive&nbsp;computation&nbsp;happens&nbsp;in&nbsp;numpy&nbsp;functions&nbsp;which&nbsp;don't<br>
hold&nbsp;the&nbsp;GIL,&nbsp;so&nbsp;ThreadPoolExecutor&nbsp;is&nbsp;usually&nbsp;the&nbsp;best&nbsp;choice.<br>
&nbsp;<br>
The&nbsp;arguments&nbsp;debug&nbsp;and&nbsp;process&nbsp;define&nbsp;how&nbsp;logging&nbsp;should&nbsp;happen&nbsp;with&nbsp;the&nbsp;composite.<br>
If&nbsp;debug&nbsp;is&nbsp;True&nbsp;logging&nbsp;messages&nbsp;summarizing&nbsp;the&nbsp;results&nbsp;of&nbsp;different&nbsp;operations<br>
will&nbsp;be&nbsp;printed&nbsp;out&nbsp;to&nbsp;stderr.&nbsp;Setting&nbsp;it&nbsp;to&nbsp;False&nbsp;will&nbsp;disable&nbsp;these&nbsp;messages.<br>
If&nbsp;process&nbsp;is&nbsp;True&nbsp;a&nbsp;progress&nbsp;bar&nbsp;will&nbsp;be&nbsp;printed&nbsp;out&nbsp;during&nbsp;long&nbsp;running&nbsp;steps.<br>
The&nbsp;default&nbsp;progress&nbsp;bar&nbsp;is&nbsp;a&nbsp;simple&nbsp;ascii&nbsp;bar&nbsp;that&nbsp;works&nbsp;whether&nbsp;the&nbsp;output&nbsp;is<br>
a&nbsp;tty&nbsp;or&nbsp;a&nbsp;file,&nbsp;but&nbsp;if&nbsp;you&nbsp;want&nbsp;you&nbsp;can&nbsp;pass&nbsp;a&nbsp;replacement&nbsp;in&nbsp;instead&nbsp;of&nbsp;setting<br>
it&nbsp;to&nbsp;True,&nbsp;such&nbsp;as&nbsp;tqdm.<br>
&nbsp;<br>
An&nbsp;example&nbsp;of&nbsp;setting&nbsp;up&nbsp;the&nbsp;composite&nbsp;would&nbsp;be&nbsp;something&nbsp;similar&nbsp;to&nbsp;this:<br>
&nbsp;<br>
import&nbsp;constitch<br>
import&nbsp;concurrent.futures<br>
import&nbsp;tqdm<br>
&nbsp;<br>
with&nbsp;concurrent.futures.ThreadPoolExecutor(max_workers=32)&nbsp;as&nbsp;executor:<br>
&nbsp;&nbsp;&nbsp;&nbsp;composite&nbsp;=&nbsp;constitch.<a href="#CompositeImage">CompositeImage</a>(executor=executor,&nbsp;debug=True,&nbsp;progress=tqdm.tqdm)<br>
&nbsp;<br>
&nbsp;<br>
Setting&nbsp;the&nbsp;aligner<br>
&nbsp;<br>
The&nbsp;aligner&nbsp;of&nbsp;the&nbsp;composite&nbsp;is&nbsp;a&nbsp;class&nbsp;that&nbsp;encapsulates&nbsp;the&nbsp;algorithm&nbsp;used&nbsp;to&nbsp;align&nbsp;two&nbsp;images&nbsp;onto<br>
each&nbsp;other.&nbsp;The&nbsp;base&nbsp;class&nbsp;Aligner&nbsp;and&nbsp;the&nbsp;fisseq.alignment&nbsp;module&nbsp;have&nbsp;more&nbsp;information&nbsp;on&nbsp;the&nbsp;specifics&nbsp;but&nbsp;basically<br>
an&nbsp;aligner&nbsp;has&nbsp;a&nbsp;function&nbsp;that&nbsp;takes&nbsp;two&nbsp;images&nbsp;and&nbsp;returns&nbsp;the&nbsp;offset&nbsp;from&nbsp;one&nbsp;image&nbsp;to&nbsp;another<br>
that&nbsp;has&nbsp;the&nbsp;best&nbsp;overlap.&nbsp;This&nbsp;is&nbsp;normally&nbsp;measured&nbsp;using&nbsp;the&nbsp;normalized&nbsp;cross&nbsp;correlation<br>
of&nbsp;the&nbsp;overlapping&nbsp;regions,&nbsp;using&nbsp;the&nbsp;function&nbsp;alignment.ncc,&nbsp;but&nbsp;different&nbsp;aligner&nbsp;classes<br>
can&nbsp;use&nbsp;different&nbsp;ways&nbsp;to&nbsp;find&nbsp;and&nbsp;score&nbsp;overlapping&nbsp;regions.<br>
&nbsp;<br>
The&nbsp;main&nbsp;aligner&nbsp;provided&nbsp;is&nbsp;the&nbsp;FFTAligner,&nbsp;which&nbsp;uses&nbsp;the&nbsp;phase&nbsp;cross&nbsp;correlation&nbsp;algorithm<br>
to&nbsp;find&nbsp;the&nbsp;best&nbsp;overlapping&nbsp;region.&nbsp;By&nbsp;default&nbsp;this&nbsp;one&nbsp;is&nbsp;used,&nbsp;however&nbsp;if&nbsp;you&nbsp;want&nbsp;to&nbsp;modify<br>
the&nbsp;parameters&nbsp;you&nbsp;can&nbsp;set&nbsp;the&nbsp;aligner&nbsp;to&nbsp;a&nbsp;new&nbsp;instance&nbsp;of&nbsp;it.&nbsp;For&nbsp;example:<br>
&nbsp;&nbsp;&nbsp;&nbsp;composite.<a href="#CompositeImage-set_aligner">set_aligner</a>(fisseq.stitching.FFTAligner(num_peaks=5,&nbsp;precalculate_fft=False))<br>
&nbsp;<br>
The&nbsp;other&nbsp;aligner&nbsp;provided&nbsp;is&nbsp;the&nbsp;FeatureAligner,&nbsp;which&nbsp;uses&nbsp;feature&nbsp;based&nbsp;methods&nbsp;to&nbsp;align&nbsp;the&nbsp;images.<br>
This&nbsp;is&nbsp;quite&nbsp;a&nbsp;bit&nbsp;faster&nbsp;than&nbsp;the&nbsp;FFTAligner,&nbsp;but&nbsp;it&nbsp;is&nbsp;not&nbsp;as&nbsp;accurate&nbsp;or&nbsp;reliable,&nbsp;so&nbsp;be&nbsp;aware&nbsp;that<br>
results&nbsp;might&nbsp;not&nbsp;be&nbsp;as&nbsp;good.<br>
&nbsp;<br>
As&nbsp;with&nbsp;many&nbsp;of&nbsp;the&nbsp;classes&nbsp;used&nbsp;for&nbsp;stitching,&nbsp;the&nbsp;aligner&nbsp;is&nbsp;meant&nbsp;to&nbsp;be&nbsp;customized&nbsp;and&nbsp;you&nbsp;are<br>
encouraged&nbsp;to&nbsp;subclass&nbsp;the&nbsp;Aligner&nbsp;class&nbsp;and&nbsp;make&nbsp;your&nbsp;own&nbsp;method.&nbsp;The&nbsp;two&nbsp;methods&nbsp;needed&nbsp;for&nbsp;an<br>
Aligner&nbsp;class&nbsp;are&nbsp;described&nbsp;in&nbsp;constitch.alignment.<br>
&nbsp;<br>
&nbsp;<br>
Adding&nbsp;the&nbsp;images<br>
&nbsp;<br>
Once&nbsp;the&nbsp;composite&nbsp;is&nbsp;set&nbsp;up&nbsp;we&nbsp;can&nbsp;add&nbsp;the&nbsp;images,&nbsp;and&nbsp;this&nbsp;is&nbsp;done&nbsp;through&nbsp;the&nbsp;<a href="#CompositeImage-add_images">add_images</a>()<br>
method.&nbsp;There&nbsp;are&nbsp;a&nbsp;couple&nbsp;ways&nbsp;of&nbsp;adding&nbsp;images,&nbsp;depending&nbsp;on&nbsp;how&nbsp;much&nbsp;information&nbsp;you&nbsp;have&nbsp;on&nbsp;the&nbsp;images:<br>
&nbsp;<br>
First&nbsp;of&nbsp;all,&nbsp;you&nbsp;can&nbsp;just&nbsp;add&nbsp;the&nbsp;images&nbsp;with&nbsp;no&nbsp;positions,&nbsp;meaning&nbsp;they&nbsp;will&nbsp;all&nbsp;default&nbsp;to&nbsp;being&nbsp;at&nbsp;0,0.<br>
This&nbsp;will&nbsp;work&nbsp;out,&nbsp;as&nbsp;when&nbsp;you&nbsp;calculate&nbsp;constraints&nbsp;between&nbsp;images&nbsp;it&nbsp;will&nbsp;calculate&nbsp;constraints&nbsp;for&nbsp;all<br>
possible&nbsp;images&nbsp;and&nbsp;filter&nbsp;out&nbsp;constraints&nbsp;that&nbsp;have&nbsp;no&nbsp;overlap.&nbsp;However&nbsp;the&nbsp;number&nbsp;of&nbsp;constraints&nbsp;that&nbsp;have<br>
to&nbsp;be&nbsp;calculated&nbsp;grows&nbsp;exponentially&nbsp;with&nbsp;the&nbsp;number&nbsp;of&nbsp;images,&nbsp;and&nbsp;if&nbsp;you&nbsp;have&nbsp;positional&nbsp;information&nbsp;on&nbsp;your<br>
images&nbsp;it&nbsp;is&nbsp;best&nbsp;to&nbsp;pass&nbsp;that&nbsp;in&nbsp;to&nbsp;help&nbsp;with&nbsp;the&nbsp;alignment.&nbsp;If&nbsp;you&nbsp;would&nbsp;like&nbsp;to&nbsp;use&nbsp;this&nbsp;method&nbsp;but&nbsp;are&nbsp;running<br>
into&nbsp;computational&nbsp;limits,&nbsp;the&nbsp;section&nbsp;on&nbsp;pruning&nbsp;constraints&nbsp;below&nbsp;can&nbsp;be&nbsp;helpful.<br>
&nbsp;&nbsp;&nbsp;&nbsp;composite.<a href="#CompositeImage-add_images">add_images</a>(images)<br>
&nbsp;<br>
If&nbsp;your&nbsp;images&nbsp;are&nbsp;taken&nbsp;on&nbsp;a&nbsp;grid&nbsp;you&nbsp;can&nbsp;pass&nbsp;in&nbsp;their&nbsp;positions&nbsp;as&nbsp;grid&nbsp;positions,&nbsp;by&nbsp;setting&nbsp;the&nbsp;scale<br>
parameter&nbsp;to&nbsp;'tile'.&nbsp;For&nbsp;example:<br>
&nbsp;&nbsp;&nbsp;&nbsp;positions=[(0,0),&nbsp;(0,1),&nbsp;(1,0),&nbsp;(1,1)]<br>
&nbsp;&nbsp;&nbsp;&nbsp;composite.<a href="#CompositeImage-add_images">add_images</a>(images,&nbsp;positions=positions,&nbsp;scale='tile')<br>
Now&nbsp;when&nbsp;constraints&nbsp;are&nbsp;calculated&nbsp;only&nbsp;nearby&nbsp;images&nbsp;will&nbsp;be&nbsp;checked,&nbsp;speeding&nbsp;up&nbsp;computation&nbsp;greatly.<br>
&nbsp;<br>
If&nbsp;your&nbsp;images&nbsp;are&nbsp;not&nbsp;on&nbsp;a&nbsp;grid&nbsp;or&nbsp;you&nbsp;have&nbsp;the&nbsp;exact&nbsp;position&nbsp;they&nbsp;were&nbsp;taken&nbsp;in,&nbsp;you&nbsp;can&nbsp;also&nbsp;specify<br>
positions&nbsp;in&nbsp;pixels&nbsp;instead&nbsp;of&nbsp;grid&nbsp;positions,&nbsp;to&nbsp;do&nbsp;this&nbsp;simply&nbsp;set&nbsp;the&nbsp;scale&nbsp;parameter&nbsp;to&nbsp;'pixel'<br>
and&nbsp;the&nbsp;positions&nbsp;passed&nbsp;in&nbsp;will&nbsp;be&nbsp;interpreted&nbsp;as&nbsp;pixel&nbsp;coordinates.&nbsp;When&nbsp;specifying&nbsp;pixel&nbsp;specific<br>
positions&nbsp;another&nbsp;parameter&nbsp;that&nbsp;is&nbsp;available&nbsp;is&nbsp;the&nbsp;uncertainty&nbsp;of&nbsp;the&nbsp;provided&nbsp;positions.&nbsp;If&nbsp;you&nbsp;know<br>
to&nbsp;the&nbsp;pixel&nbsp;where&nbsp;each&nbsp;image&nbsp;is&nbsp;you&nbsp;probably&nbsp;don't&nbsp;have&nbsp;a&nbsp;need&nbsp;for&nbsp;this&nbsp;library,&nbsp;but&nbsp;there&nbsp;is&nbsp;still&nbsp;a<br>
wide&nbsp;range&nbsp;of&nbsp;possibilities,&nbsp;from&nbsp;being&nbsp;precise&nbsp;to&nbsp;a&nbsp;couple&nbsp;pixels&nbsp;to&nbsp;only&nbsp;providing&nbsp;the&nbsp;general&nbsp;locations.<br>
The&nbsp;error&nbsp;on&nbsp;positions&nbsp;can&nbsp;be&nbsp;provided&nbsp;to&nbsp;add_images&nbsp;with&nbsp;the&nbsp;keyword&nbsp;argument&nbsp;positional_error&nbsp;or&nbsp;by&nbsp;directly<br>
setting&nbsp;<a href="#CompositeImage">CompositeImage</a>.positional_error.&nbsp;This&nbsp;will&nbsp;be&nbsp;a&nbsp;pixel&nbsp;value&nbsp;that&nbsp;acts&nbsp;as&nbsp;error&nbsp;bars,&nbsp;meaning&nbsp;the<br>
image&nbsp;positions&nbsp;are&nbsp;plus&nbsp;or&nbsp;minus&nbsp;that&nbsp;value.<br>
&nbsp;<br>
When&nbsp;specifying&nbsp;positions,&nbsp;you&nbsp;can&nbsp;also&nbsp;specify&nbsp;more&nbsp;than&nbsp;two&nbsp;dimensions.&nbsp;The&nbsp;first&nbsp;two&nbsp;are&nbsp;the&nbsp;x&nbsp;and&nbsp;y<br>
dimensions&nbsp;of&nbsp;the&nbsp;images,&nbsp;but&nbsp;a&nbsp;z&nbsp;dimension&nbsp;can&nbsp;be&nbsp;added&nbsp;if&nbsp;you&nbsp;are&nbsp;doing&nbsp;3&nbsp;dimensional&nbsp;stitching&nbsp;or&nbsp;in&nbsp;our&nbsp;case<br>
if&nbsp;you&nbsp;are&nbsp;doing&nbsp;fisseq&nbsp;and&nbsp;want&nbsp;to&nbsp;make&nbsp;sure&nbsp;all&nbsp;the&nbsp;cycles&nbsp;line&nbsp;up&nbsp;perfectly.&nbsp;In&nbsp;the&nbsp;case&nbsp;of&nbsp;fisseq,<br>
you&nbsp;can&nbsp;add&nbsp;the&nbsp;cycle&nbsp;index&nbsp;as&nbsp;the&nbsp;z&nbsp;coordinate&nbsp;for&nbsp;the&nbsp;image.<br>
&nbsp;<br>
&nbsp;<br>
Calculating&nbsp;constraints<br>
Once&nbsp;images&nbsp;have&nbsp;been&nbsp;added&nbsp;we&nbsp;need&nbsp;to&nbsp;calculate&nbsp;the&nbsp;constraints&nbsp;between&nbsp;overlapping&nbsp;images.<br>
Creating,&nbsp;calculating,&nbsp;filtering,&nbsp;and&nbsp;solving&nbsp;constraints&nbsp;is&nbsp;an&nbsp;integral&nbsp;part&nbsp;of&nbsp;the&nbsp;stitching<br>
algorithm,&nbsp;and&nbsp;a&nbsp;subpackage&nbsp;is&nbsp;dedicated&nbsp;to&nbsp;them,&nbsp;constitch.constraints.&nbsp;This&nbsp;module&nbsp;contains&nbsp;the<br>
Constraint&nbsp;class,&nbsp;as&nbsp;well&nbsp;as&nbsp;the&nbsp;<a href="constitch.constraints.html#ConstraintSet">ConstraintSet</a>&nbsp;and&nbsp;ConstraintFilter&nbsp;classes.&nbsp;Here&nbsp;we&nbsp;will&nbsp;go&nbsp;over&nbsp;the<br>
typical&nbsp;usage&nbsp;of&nbsp;them&nbsp;but&nbsp;for&nbsp;more&nbsp;information&nbsp;consult&nbsp;constitch.constraints.<br>
&nbsp;<br>
The&nbsp;core&nbsp;idea&nbsp;of&nbsp;constraints&nbsp;is&nbsp;that&nbsp;each&nbsp;constraint&nbsp;stores&nbsp;a&nbsp;positional&nbsp;offset&nbsp;between&nbsp;two&nbsp;images,&nbsp;"constraining"<br>
them&nbsp;to&nbsp;have&nbsp;that&nbsp;difference&nbsp;in&nbsp;positions.&nbsp;Constraints&nbsp;are&nbsp;useful&nbsp;for&nbsp;stitching&nbsp;because&nbsp;most&nbsp;alignment&nbsp;algorithms<br>
only&nbsp;work&nbsp;with&nbsp;a&nbsp;pair&nbsp;of&nbsp;images,&nbsp;meaning&nbsp;they&nbsp;take&nbsp;as&nbsp;input&nbsp;and&nbsp;provide&nbsp;as&nbsp;output&nbsp;constraints.<br>
&nbsp;<br>
We&nbsp;can&nbsp;always&nbsp;create&nbsp;new&nbsp;constraints&nbsp;using&nbsp;the&nbsp;attribute&nbsp;<a href="#CompositeImage">CompositeImage</a>.constraints,&nbsp;which&nbsp;generates<br>
constraints&nbsp;using&nbsp;the&nbsp;image&nbsp;positions&nbsp;specified&nbsp;in&nbsp;the&nbsp;composite.&nbsp;To&nbsp;retrieve&nbsp;constraints&nbsp;between&nbsp;all&nbsp;touching<br>
images&nbsp;we&nbsp;can&nbsp;do:<br>
&nbsp;&nbsp;&nbsp;&nbsp;overlapping&nbsp;=&nbsp;composite.constraints(touching=True)<br>
&nbsp;<br>
The&nbsp;constraints&nbsp;here&nbsp;are&nbsp;considered&nbsp;"implicit"&nbsp;constraints&nbsp;as&nbsp;they&nbsp;were&nbsp;created&nbsp;from&nbsp;the&nbsp;provided&nbsp;image&nbsp;positions,<br>
which&nbsp;are&nbsp;not&nbsp;precise.&nbsp;The&nbsp;variable&nbsp;overlapping&nbsp;is&nbsp;a&nbsp;<a href="constitch.constraints.html#ConstraintSet">ConstraintSet</a>&nbsp;class,&nbsp;which&nbsp;acts&nbsp;similar&nbsp;to&nbsp;a&nbsp;dictionary,&nbsp;holding<br>
a&nbsp;set&nbsp;of&nbsp;constraints.&nbsp;Specific&nbsp;constraints&nbsp;can&nbsp;be&nbsp;retrieved&nbsp;by&nbsp;indexing&nbsp;into&nbsp;the&nbsp;set&nbsp;with&nbsp;the&nbsp;indices&nbsp;of&nbsp;the&nbsp;two&nbsp;images<br>
the&nbsp;constraint&nbsp;is&nbsp;between,&nbsp;eg&nbsp;overlapping[1,2]&nbsp;will&nbsp;return&nbsp;the&nbsp;constraint&nbsp;between&nbsp;image&nbsp;1&nbsp;and&nbsp;image&nbsp;2&nbsp;in&nbsp;composite.<br>
&nbsp;<br>
As&nbsp;mentioned&nbsp;before&nbsp;these&nbsp;constraints&nbsp;are&nbsp;not&nbsp;precise,&nbsp;and&nbsp;the&nbsp;next&nbsp;step&nbsp;in&nbsp;stitching&nbsp;is&nbsp;passing<br>
them&nbsp;to&nbsp;an&nbsp;alignment&nbsp;algorithm&nbsp;to&nbsp;refine&nbsp;them.&nbsp;This&nbsp;is&nbsp;done&nbsp;with&nbsp;the&nbsp;<a href="constitch.constraints.html#ConstraintSet">ConstraintSet</a>.calculate()<br>
method,&nbsp;like&nbsp;so:<br>
&nbsp;&nbsp;&nbsp;&nbsp;constraints&nbsp;=&nbsp;overlapping.calculate()<br>
&nbsp;<br>
This&nbsp;creates&nbsp;a&nbsp;new&nbsp;<a href="constitch.constraints.html#ConstraintSet">ConstraintSet</a>&nbsp;constraints,&nbsp;which&nbsp;holds&nbsp;all&nbsp;our&nbsp;new&nbsp;constraints.<br>
&nbsp;<br>
&nbsp;<br>
&nbsp;<br>
with&nbsp;the&nbsp;calc_constraints()&nbsp;function.&nbsp;For&nbsp;usual&nbsp;usage&nbsp;you&nbsp;can&nbsp;run&nbsp;it&nbsp;with&nbsp;no&nbsp;parameters,<br>
but&nbsp;if&nbsp;you&nbsp;want&nbsp;to&nbsp;be&nbsp;specific&nbsp;about&nbsp;which&nbsp;images&nbsp;are&nbsp;overlapping&nbsp;it&nbsp;takes&nbsp;in&nbsp;an&nbsp;argument&nbsp;called&nbsp;pairs,<br>
which&nbsp;should&nbsp;be&nbsp;a&nbsp;sequence&nbsp;of&nbsp;tuples,&nbsp;each&nbsp;being&nbsp;a&nbsp;pair&nbsp;of&nbsp;image&nbsp;indices&nbsp;that&nbsp;should&nbsp;be&nbsp;checked&nbsp;for&nbsp;overlap.<br>
If&nbsp;pairs&nbsp;is&nbsp;not&nbsp;specified&nbsp;it&nbsp;defaults&nbsp;to&nbsp;find_unconstrained_pairs(),&nbsp;which&nbsp;finds&nbsp;all&nbsp;image<br>
pairs&nbsp;that&nbsp;have&nbsp;overlap&nbsp;but&nbsp;don't&nbsp;have&nbsp;a&nbsp;constraint&nbsp;between&nbsp;them.&nbsp;The&nbsp;two&nbsp;lines&nbsp;below&nbsp;both&nbsp;work&nbsp;to&nbsp;calculate<br>
constraints:<br>
&nbsp;&nbsp;&nbsp;&nbsp;composite.calc_constraints()<br>
&nbsp;&nbsp;&nbsp;&nbsp;composite.calc_constraints(composite.find_unconstrained_pairs())<br>
&nbsp;<br>
One&nbsp;important&nbsp;parameter&nbsp;is&nbsp;precalculate,&nbsp;if&nbsp;True&nbsp;the&nbsp;results&nbsp;of&nbsp;the&nbsp;precalculation&nbsp;step&nbsp;will&nbsp;be&nbsp;cached<br>
for&nbsp;each&nbsp;image,&nbsp;saving&nbsp;on&nbsp;computation&nbsp;time&nbsp;but&nbsp;increasing&nbsp;memory&nbsp;usage.<br>
&nbsp;<br>
The&nbsp;find_unconstrained_pairs&nbsp;function&nbsp;also&nbsp;has&nbsp;some&nbsp;parameters&nbsp;that&nbsp;affect&nbsp;how&nbsp;it&nbsp;looks&nbsp;for&nbsp;overlap,<br>
the&nbsp;most&nbsp;useful&nbsp;one&nbsp;being&nbsp;overlap_threshold.&nbsp;This&nbsp;is&nbsp;a&nbsp;value&nbsp;in&nbsp;pixels&nbsp;that&nbsp;specifies&nbsp;how&nbsp;far&nbsp;images<br>
have&nbsp;to&nbsp;overlap&nbsp;to&nbsp;be&nbsp;considered&nbsp;overlapping.&nbsp;This&nbsp;can&nbsp;also&nbsp;be&nbsp;negative,&nbsp;meaning&nbsp;images&nbsp;that&nbsp;are&nbsp;within<br>
a&nbsp;certain&nbsp;pixel&nbsp;distance&nbsp;to&nbsp;touching&nbsp;will&nbsp;be&nbsp;considered&nbsp;overlapping.&nbsp;This&nbsp;is&nbsp;useful&nbsp;if&nbsp;you&nbsp;want&nbsp;to&nbsp;make&nbsp;sure<br>
that&nbsp;you&nbsp;find&nbsp;all&nbsp;overlapping&nbsp;images,&nbsp;even&nbsp;if&nbsp;your&nbsp;original&nbsp;positions&nbsp;are&nbsp;not&nbsp;very&nbsp;accurate.&nbsp;For&nbsp;example,<br>
the&nbsp;line&nbsp;below&nbsp;will&nbsp;expand&nbsp;the&nbsp;search&nbsp;by&nbsp;2000&nbsp;pixels&nbsp;and&nbsp;hopefully&nbsp;find&nbsp;more&nbsp;overlap<br>
&nbsp;&nbsp;&nbsp;&nbsp;composite.calc_constraints(composite.find_unconstrained_pairs(overlap_threshold=(-2000,&nbsp;-2000)))<br>
&nbsp;<br>
Another&nbsp;use&nbsp;would&nbsp;be&nbsp;for&nbsp;fisseq,&nbsp;where&nbsp;you&nbsp;want&nbsp;to&nbsp;calculate&nbsp;constraints&nbsp;across&nbsp;all&nbsp;cycles&nbsp;and&nbsp;not&nbsp;just<br>
adjacent&nbsp;cycles.&nbsp;As&nbsp;described&nbsp;before&nbsp;fisseq&nbsp;cycles&nbsp;can&nbsp;be&nbsp;represented&nbsp;using&nbsp;the&nbsp;z&nbsp;axis,&nbsp;so&nbsp;we&nbsp;can&nbsp;expand<br>
the&nbsp;search&nbsp;in&nbsp;that&nbsp;z&nbsp;axis&nbsp;and&nbsp;calculate&nbsp;constraints&nbsp;between&nbsp;all&nbsp;cycles:<br>
&nbsp;&nbsp;&nbsp;&nbsp;composite.calc_constraints(composite.find_unconstrained_pairs(overlap_threshold=(0,&nbsp;0,&nbsp;-12))<br>
&nbsp;<br>
&nbsp;<br>
Filtering&nbsp;constraints<br>
&nbsp;<br>
After&nbsp;calculating&nbsp;constraints&nbsp;for&nbsp;all&nbsp;overlapping&nbsp;images,&nbsp;we&nbsp;have&nbsp;to&nbsp;filter&nbsp;out&nbsp;constraints&nbsp;that&nbsp;aren't&nbsp;accurate.<br>
Unfortunately&nbsp;the&nbsp;alignment&nbsp;algorithms&nbsp;are&nbsp;not&nbsp;perfect&nbsp;and&nbsp;sometimes&nbsp;they&nbsp;miss&nbsp;overlap,&nbsp;so&nbsp;we&nbsp;need&nbsp;to&nbsp;filter&nbsp;out<br>
constraints&nbsp;that&nbsp;have&nbsp;low&nbsp;scores&nbsp;or&nbsp;don't&nbsp;fit&nbsp;in&nbsp;with&nbsp;the&nbsp;other&nbsp;constraints.&nbsp;There&nbsp;are&nbsp;a&nbsp;couple&nbsp;steps&nbsp;of&nbsp;this,<br>
the&nbsp;first&nbsp;being&nbsp;filtering&nbsp;based&nbsp;on&nbsp;scores:<br>
&nbsp;&nbsp;&nbsp;&nbsp;composite.filter_constraints()<br>
This&nbsp;method,&nbsp;filter_constraints(),&nbsp;looks&nbsp;at&nbsp;the&nbsp;scores&nbsp;of&nbsp;all&nbsp;constraints&nbsp;and&nbsp;calculates&nbsp;a&nbsp;random<br>
set&nbsp;of&nbsp;bad&nbsp;constraints&nbsp;to&nbsp;find&nbsp;a&nbsp;good&nbsp;score&nbsp;threshold&nbsp;to&nbsp;eliminate&nbsp;any&nbsp;constraints&nbsp;that&nbsp;are&nbsp;not&nbsp;accurate.&nbsp;This<br>
is&nbsp;necessary&nbsp;because&nbsp;the&nbsp;scores&nbsp;returned&nbsp;by&nbsp;the&nbsp;alignment&nbsp;algorithms&nbsp;depend&nbsp;on&nbsp;the&nbsp;features&nbsp;present&nbsp;in&nbsp;the&nbsp;images,<br>
and&nbsp;using&nbsp;a&nbsp;fixed&nbsp;threshold&nbsp;would&nbsp;not&nbsp;work&nbsp;for&nbsp;all&nbsp;image&nbsp;types.<br>
&nbsp;<br>
An&nbsp;optional&nbsp;secondary&nbsp;filtering&nbsp;step&nbsp;that&nbsp;can&nbsp;be&nbsp;used&nbsp;is&nbsp;the&nbsp;solve_constraints()&nbsp;method.&nbsp;Normally<br>
we&nbsp;call&nbsp;this&nbsp;method&nbsp;when&nbsp;we&nbsp;want&nbsp;to&nbsp;solve&nbsp;for&nbsp;the&nbsp;global&nbsp;position&nbsp;of&nbsp;the&nbsp;images,&nbsp;but&nbsp;we&nbsp;can&nbsp;also&nbsp;call&nbsp;this&nbsp;method<br>
to&nbsp;attempt&nbsp;to&nbsp;solve&nbsp;the&nbsp;constraints,&nbsp;and&nbsp;remove&nbsp;any&nbsp;that&nbsp;don't&nbsp;seem&nbsp;to&nbsp;fit&nbsp;with&nbsp;the&nbsp;other&nbsp;constraints&nbsp;present.<br>
To&nbsp;do&nbsp;this&nbsp;we&nbsp;pass&nbsp;in&nbsp;the&nbsp;arguments&nbsp;as&nbsp;shown:<br>
&nbsp;&nbsp;&nbsp;&nbsp;composite.solve_constraints(apply_positions=False,&nbsp;filter_outliers=True)<br>
&nbsp;<br>
&nbsp;<br>
Estimating&nbsp;missing&nbsp;constraints<br>
&nbsp;<br>
After&nbsp;filtering&nbsp;out&nbsp;all&nbsp;the&nbsp;inaccurate&nbsp;constraints,&nbsp;we&nbsp;may&nbsp;be&nbsp;left&nbsp;with&nbsp;images&nbsp;that&nbsp;don't&nbsp;have&nbsp;any&nbsp;constraints<br>
to&nbsp;other&nbsp;images.&nbsp;This&nbsp;is&nbsp;especially&nbsp;common&nbsp;when&nbsp;there&nbsp;are&nbsp;not&nbsp;enough&nbsp;features&nbsp;in&nbsp;some&nbsp;areas&nbsp;of&nbsp;the&nbsp;image&nbsp;to<br>
successfully&nbsp;line&nbsp;up&nbsp;the&nbsp;images.&nbsp;To&nbsp;account&nbsp;for&nbsp;this,&nbsp;we&nbsp;can&nbsp;use&nbsp;a&nbsp;stage&nbsp;model&nbsp;to&nbsp;learn&nbsp;the&nbsp;movement&nbsp;of&nbsp;the&nbsp;microscope,<br>
and&nbsp;estimate&nbsp;where&nbsp;images&nbsp;that&nbsp;weren't&nbsp;able&nbsp;to&nbsp;be&nbsp;aligned&nbsp;should&nbsp;be.&nbsp;Importantly&nbsp;this&nbsp;only&nbsp;will&nbsp;work&nbsp;if&nbsp;the&nbsp;movement<br>
of&nbsp;your&nbsp;microscope&nbsp;is&nbsp;predictable,&nbsp;ie&nbsp;it&nbsp;scans&nbsp;in&nbsp;a&nbsp;grid&nbsp;pattern,&nbsp;and&nbsp;you&nbsp;have&nbsp;the&nbsp;positions&nbsp;or&nbsp;grid&nbsp;positions&nbsp;for<br>
images.&nbsp;To&nbsp;estimate&nbsp;these&nbsp;constraints&nbsp;we&nbsp;use&nbsp;the&nbsp;methods&nbsp;estimate_stage_model()&nbsp;and&nbsp;model_constraints().<br>
&nbsp;&nbsp;&nbsp;&nbsp;composite.estimate_stage_model()<br>
&nbsp;&nbsp;&nbsp;&nbsp;composite.model_constraints()<br>
More&nbsp;information&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;docs&nbsp;for&nbsp;each&nbsp;function,&nbsp;and&nbsp;about&nbsp;the&nbsp;different&nbsp;possible&nbsp;stage&nbsp;models&nbsp;at&nbsp;fisseq.stage_model<br>
&nbsp;<br>
&nbsp;<br>
Solving&nbsp;constraints<br>
&nbsp;<br>
After&nbsp;all&nbsp;the&nbsp;constraints&nbsp;are&nbsp;ready,&nbsp;we&nbsp;can&nbsp;solve&nbsp;them&nbsp;all&nbsp;globally&nbsp;to&nbsp;get&nbsp;the&nbsp;positions<br>
for&nbsp;each&nbsp;image.&nbsp;This&nbsp;is&nbsp;done&nbsp;by&nbsp;representing&nbsp;the&nbsp;whole&nbsp;composite&nbsp;as&nbsp;an&nbsp;overconstrained&nbsp;linear&nbsp;system,<br>
where&nbsp;each&nbsp;constraint&nbsp;is&nbsp;two&nbsp;equations&nbsp;linking&nbsp;the&nbsp;x&nbsp;and&nbsp;y&nbsp;coordinates&nbsp;of&nbsp;two&nbsp;images.<br>
This&nbsp;is&nbsp;all&nbsp;done&nbsp;in&nbsp;the&nbsp;solve_constraints()&nbsp;function,&nbsp;and&nbsp;calling&nbsp;it&nbsp;will&nbsp;globally&nbsp;solve<br>
all&nbsp;the&nbsp;constraints&nbsp;and&nbsp;apply&nbsp;the&nbsp;new&nbsp;positions&nbsp;to&nbsp;all&nbsp;images.<br>
&nbsp;&nbsp;&nbsp;&nbsp;composite.solve_constraints()<br>
Sometimes&nbsp;the&nbsp;solver&nbsp;can&nbsp;have&nbsp;trouble&nbsp;solving&nbsp;the&nbsp;constraints,&nbsp;especially&nbsp;if&nbsp;inaccurate&nbsp;constraints&nbsp;are&nbsp;still<br>
present&nbsp;when&nbsp;solving.&nbsp;If&nbsp;this&nbsp;happens&nbsp;and&nbsp;it&nbsp;isn't&nbsp;able&nbsp;to&nbsp;find&nbsp;a&nbsp;good&nbsp;solution,&nbsp;it&nbsp;will&nbsp;throw&nbsp;an&nbsp;error.<br>
A&nbsp;simple&nbsp;way&nbsp;to&nbsp;try&nbsp;to&nbsp;solve&nbsp;this&nbsp;is&nbsp;by&nbsp;passing&nbsp;the&nbsp;filter_outliers=True&nbsp;argument,&nbsp;which&nbsp;will&nbsp;tell&nbsp;it&nbsp;to&nbsp;try<br>
to&nbsp;remove&nbsp;constraints&nbsp;that&nbsp;do&nbsp;not&nbsp;align&nbsp;with&nbsp;others&nbsp;around&nbsp;them.&nbsp;However&nbsp;this&nbsp;doesn't&nbsp;always&nbsp;work,&nbsp;if&nbsp;the&nbsp;error<br>
persists&nbsp;a&nbsp;larger&nbsp;change&nbsp;may&nbsp;be&nbsp;needed&nbsp;to&nbsp;help.&nbsp;See&nbsp;the&nbsp;troubleshooting&nbsp;section&nbsp;for&nbsp;more&nbsp;information.<br>
&nbsp;<br>
&nbsp;<br>
Stitching&nbsp;images<br>
&nbsp;<br>
The&nbsp;final&nbsp;step&nbsp;left&nbsp;is&nbsp;to&nbsp;stitch&nbsp;the&nbsp;images&nbsp;together&nbsp;into&nbsp;a&nbsp;single&nbsp;composite&nbsp;image.&nbsp;This&nbsp;is&nbsp;done<br>
with&nbsp;the&nbsp;stitch_images()&nbsp;function.<br>
&nbsp;&nbsp;&nbsp;&nbsp;full_image&nbsp;=&nbsp;composite.stitch_images()<br>
&nbsp;<br>
The&nbsp;method&nbsp;that&nbsp;this&nbsp;function&nbsp;merges&nbsp;the&nbsp;images&nbsp;together&nbsp;can&nbsp;be&nbsp;configured&nbsp;by&nbsp;passing&nbsp;a&nbsp;Merger&nbsp;instance,<br>
by&nbsp;default&nbsp;it&nbsp;will&nbsp;use&nbsp;MeanMerger.&nbsp;More&nbsp;information&nbsp;on&nbsp;mergers&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;docs&nbsp;of&nbsp;the&nbsp;Merger&nbsp;class<br>
and&nbsp;the&nbsp;fisseq.stitching.merging&nbsp;module.<br>&nbsp;</tt></td></tr>
<tr><td>&nbsp;</td>
<td width="100%">Methods defined here:<br>
<dl><dt><a name="CompositeImage-__init__"><strong>__init__</strong></a>(self, images=None, positions=None, boxes=None, scale='pixel', channel_axis=None, grid_size=None, tile_shape=None, overlap=0.1, aligner=None, precalculate=False, debug=True, progress=False, executor=None)</dt><dd><tt>Initialize&nbsp;self.&nbsp;&nbsp;See&nbsp;help(type(self))&nbsp;for&nbsp;accurate&nbsp;signature.</tt></dd></dl>

<dl><dt><a name="CompositeImage-add_image"><strong>add_image</strong></a>(self, image, position=None, box=None, scale='pixel', imagescale=1)</dt></dl>

<dl><dt><a name="CompositeImage-add_images"><strong>add_images</strong></a>(self, images, positions=None, boxes=None, scale='pixel', channel_axis=None, imagescale=1)</dt><dd><tt>Adds&nbsp;images&nbsp;to&nbsp;the&nbsp;composite<br>
&nbsp;<br>
Args:<br>
&nbsp;&nbsp;&nbsp;&nbsp;images&nbsp;(np.ndarray&nbsp;shape&nbsp;(N,&nbsp;W,&nbsp;H)&nbsp;or&nbsp;list&nbsp;of&nbsp;N&nbsp;np.ndarrays&nbsp;shape&nbsp;(W,&nbsp;H)&nbsp;or&nbsp;list&nbsp;of&nbsp;strings):<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;images&nbsp;that&nbsp;will&nbsp;be&nbsp;stitched&nbsp;together.&nbsp;Can&nbsp;pass&nbsp;a&nbsp;list&nbsp;of<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;paths&nbsp;that&nbsp;will&nbsp;be&nbsp;opened&nbsp;by&nbsp;imageio.v3.imread&nbsp;when&nbsp;needed.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Passing&nbsp;paths&nbsp;will&nbsp;require&nbsp;less&nbsp;memory&nbsp;as&nbsp;images&nbsp;are&nbsp;not&nbsp;stored,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;but&nbsp;will&nbsp;increase&nbsp;computation&nbsp;time.<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;positions&nbsp;(np.ndarray&nbsp;shape&nbsp;(N,&nbsp;D)&nbsp;):<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Specifies&nbsp;the&nbsp;extimated&nbsp;positions&nbsp;of&nbsp;each&nbsp;image.&nbsp;The&nbsp;approx&nbsp;values&nbsp;are<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;used&nbsp;to&nbsp;decide&nbsp;which&nbsp;images&nbsp;are&nbsp;overlapping.&nbsp;These&nbsp;values&nbsp;are&nbsp;interpreted<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;using&nbsp;the&nbsp;scale&nbsp;argument,&nbsp;default&nbsp;they&nbsp;are&nbsp;pixel&nbsp;values.<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;boxes&nbsp;(sequence&nbsp;of&nbsp;<a href="#BBox">BBox</a>):<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;An&nbsp;alternative&nbsp;to&nbsp;specifying&nbsp;the&nbsp;positions,&nbsp;the&nbsp;full&nbsp;bounding&nbsp;boxes&nbsp;of&nbsp;every&nbsp;image&nbsp;can&nbsp;also<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;be&nbsp;passed&nbsp;in.&nbsp;The&nbsp;units&nbsp;of&nbsp;the&nbsp;boxes&nbsp;are&nbsp;interpreted&nbsp;the&nbsp;same&nbsp;as&nbsp;image&nbsp;positions,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;the&nbsp;scale&nbsp;argument&nbsp;deciding&nbsp;their&nbsp;relation&nbsp;to&nbsp;the&nbsp;scale&nbsp;of&nbsp;pixels.<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;scale&nbsp;('pixel',&nbsp;'tile',&nbsp;float,&nbsp;or&nbsp;sequence):<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;scale&nbsp;argument&nbsp;is&nbsp;used&nbsp;to&nbsp;interpret&nbsp;the&nbsp;position&nbsp;values&nbsp;given.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'pixel'&nbsp;means&nbsp;the&nbsp;values&nbsp;are&nbsp;pixel&nbsp;values,&nbsp;equivalent&nbsp;to&nbsp;putting&nbsp;1.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'tile'&nbsp;means&nbsp;the&nbsp;values&nbsp;are&nbsp;indices&nbsp;in&nbsp;a&nbsp;tile&nbsp;grid,&nbsp;eg&nbsp;a&nbsp;unit&nbsp;of&nbsp;1&nbsp;is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;width&nbsp;of&nbsp;an&nbsp;image.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a&nbsp;float&nbsp;value&nbsp;means&nbsp;the&nbsp;position&nbsp;values&nbsp;are&nbsp;a&nbsp;units&nbsp;where&nbsp;one&nbsp;unit&nbsp;is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;given&nbsp;number&nbsp;of&nbsp;pixels.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If&nbsp;a&nbsp;sequence&nbsp;is&nbsp;given,&nbsp;each&nbsp;element&nbsp;can&nbsp;be&nbsp;any&nbsp;of&nbsp;the&nbsp;previous&nbsp;values,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;which&nbsp;are&nbsp;applied&nbsp;to&nbsp;each&nbsp;axis.</tt></dd></dl>

<dl><dt><a name="CompositeImage-add_split_image"><strong>add_split_image</strong></a>(self, image, grid_size=None, tile_shape=None, overlap=0.1, channel_axis=None)</dt><dd><tt>Adds&nbsp;an&nbsp;image&nbsp;split&nbsp;into&nbsp;a&nbsp;number&nbsp;of&nbsp;tiles.&nbsp;This&nbsp;can&nbsp;be&nbsp;used&nbsp;to&nbsp;divide&nbsp;up<br>
a&nbsp;large&nbsp;image&nbsp;into&nbsp;smaller&nbsp;pieces&nbsp;for&nbsp;efficient&nbsp;processing.&nbsp;The&nbsp;resulting<br>
images&nbsp;are&nbsp;guaranteed&nbsp;to&nbsp;all&nbsp;be&nbsp;the&nbsp;same&nbsp;size.<br>
A&nbsp;common&nbsp;pattern&nbsp;would&nbsp;be:<br>
&nbsp;<br>
composite.<a href="#CompositeImage-add_split_image">add_split_image</a>(image,&nbsp;10)<br>
for&nbsp;i&nbsp;in&nbsp;range(len(composite.images)):<br>
&nbsp;&nbsp;&nbsp;&nbsp;composite.images[i]&nbsp;=&nbsp;process(composite.images[i])<br>
result&nbsp;=&nbsp;composite.stitch_images()<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;image:&nbsp;ndarray<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;image&nbsp;that&nbsp;will&nbsp;be&nbsp;split&nbsp;into&nbsp;tiles<br>
&nbsp;&nbsp;&nbsp;&nbsp;grid_size:&nbsp;int&nbsp;or&nbsp;(int,&nbsp;int)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;number&nbsp;of&nbsp;tiles&nbsp;to&nbsp;split&nbsp;the&nbsp;image&nbsp;into.&nbsp;Either&nbsp;this&nbsp;or&nbsp;tile_shape<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;should&nbsp;be&nbsp;specified.<br>
&nbsp;&nbsp;&nbsp;&nbsp;tile_shape:&nbsp;(int,&nbsp;int)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;shape&nbsp;of&nbsp;the&nbsp;resulting&nbsp;tiles,&nbsp;if&nbsp;grid_size&nbsp;isn't&nbsp;specified&nbsp;the&nbsp;maximum<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;number&nbsp;of&nbsp;tiles&nbsp;that&nbsp;fit&nbsp;in&nbsp;the&nbsp;image&nbsp;are&nbsp;extracted.&nbsp;Whether&nbsp;specified&nbsp;or&nbsp;not,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;size&nbsp;of&nbsp;all&nbsp;tiles&nbsp;created&nbsp;is&nbsp;guaranteed&nbsp;to&nbsp;be&nbsp;uniform.<br>
&nbsp;&nbsp;&nbsp;&nbsp;overlap:&nbsp;float,&nbsp;int&nbsp;or&nbsp;(float&nbsp;or&nbsp;int,&nbsp;float&nbsp;or&nbsp;int)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;amount&nbsp;of&nbsp;overlap&nbsp;between&nbsp;neighboring&nbsp;tiles.&nbsp;Zero&nbsp;will&nbsp;result&nbsp;in&nbsp;no&nbsp;overlap,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a&nbsp;floating&nbsp;point&nbsp;number&nbsp;represents&nbsp;a&nbsp;percentage&nbsp;of&nbsp;the&nbsp;size&nbsp;of&nbsp;the&nbsp;tile,&nbsp;and&nbsp;an<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;integer&nbsp;number&nbsp;represents&nbsp;a&nbsp;flat&nbsp;pixel&nbsp;overlap.&nbsp;The&nbsp;overlap&nbsp;is&nbsp;treated&nbsp;as&nbsp;a&nbsp;lower&nbsp;bound,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;as&nbsp;it&nbsp;is&nbsp;not&nbsp;always&nbsp;possible&nbsp;to&nbsp;get&nbsp;the&nbsp;exact&nbsp;overlap&nbsp;requested&nbsp;due&nbsp;to&nbsp;rounding&nbsp;issues,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and&nbsp;in&nbsp;some&nbsp;cases&nbsp;more&nbsp;overlap&nbsp;will&nbsp;exist&nbsp;between&nbsp;some&nbsp;tiles</tt></dd></dl>

<dl><dt><a name="CompositeImage-align_disconnected_regions"><strong>align_disconnected_regions</strong></a>(self, num_test_points=0.05, expand_range=5)</dt><dd><tt>Looks&nbsp;at&nbsp;the&nbsp;current&nbsp;constraints&nbsp;in&nbsp;this&nbsp;composite&nbsp;and&nbsp;sees&nbsp;if&nbsp;there&nbsp;are&nbsp;any&nbsp;images&nbsp;or<br>
groups&nbsp;of&nbsp;images&nbsp;that&nbsp;are&nbsp;fully&nbsp;disconnected&nbsp;from&nbsp;the&nbsp;rest&nbsp;of&nbsp;the&nbsp;images.&nbsp;If&nbsp;any&nbsp;are&nbsp;found,<br>
they&nbsp;are&nbsp;attempted&nbsp;to&nbsp;be&nbsp;joined&nbsp;back&nbsp;together&nbsp;by&nbsp;calculating&nbsp;select&nbsp;constraints&nbsp;between&nbsp;the<br>
two&nbsp;groups</tt></dd></dl>

<dl><dt><a name="CompositeImage-calc_score_threshold"><strong>calc_score_threshold</strong></a>(self, num_samples=None, random_state=12345)</dt><dd><tt>Estimates&nbsp;a&nbsp;threshold&nbsp;for&nbsp;selecting&nbsp;constraints&nbsp;with&nbsp;good&nbsp;overlap.<br>
&nbsp;<br>
Done&nbsp;by&nbsp;calculating&nbsp;random&nbsp;constraints&nbsp;and&nbsp;using&nbsp;a&nbsp;gaussian&nbsp;mixture&nbsp;model<br>
to&nbsp;distinguish&nbsp;random&nbsp;constraints&nbsp;from&nbsp;real&nbsp;constraints<br>
&nbsp;<br>
Args:<br>
&nbsp;&nbsp;&nbsp;&nbsp;num_samples&nbsp;(float):&nbsp;optional<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;number&nbsp;of&nbsp;fake&nbsp;constraints&nbsp;to&nbsp;be&nbsp;generated,&nbsp;defaults&nbsp;to&nbsp;0.25*len(images).<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;In&nbsp;general&nbsp;the&nbsp;more&nbsp;samples&nbsp;the&nbsp;better&nbsp;the&nbsp;estimate,&nbsp;at&nbsp;the&nbsp;expense&nbsp;of&nbsp;speed<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;random_state&nbsp;(int):&nbsp;Used&nbsp;as&nbsp;a&nbsp;seed&nbsp;to&nbsp;get&nbsp;reproducible&nbsp;results<br>
&nbsp;<br>
Returns&nbsp;(float):<br>
&nbsp;&nbsp;&nbsp;&nbsp;threshold&nbsp;for&nbsp;score&nbsp;where&nbsp;all&nbsp;scores&nbsp;lower&nbsp;are&nbsp;likely&nbsp;to&nbsp;be&nbsp;bad&nbsp;constraints</tt></dd></dl>

<dl><dt><a name="CompositeImage-constraint_error"><strong>constraint_error</strong></a>(self, i, j, constraint)</dt></dl>

<dl><dt><a name="CompositeImage-copy"><strong>copy</strong></a>(self, **kwargs)</dt><dd><tt>Creates&nbsp;a&nbsp;full&nbsp;copy&nbsp;of&nbsp;this&nbsp;composite.&nbsp;The&nbsp;only&nbsp;thing&nbsp;shared&nbsp;between&nbsp;this&nbsp;composite<br>
and&nbsp;the&nbsp;new&nbsp;copy&nbsp;is&nbsp;the&nbsp;raw&nbsp;image&nbsp;data.</tt></dd></dl>

<dl><dt><a name="CompositeImage-html_summary"><strong>html_summary</strong></a>(self, path, score_func=None)</dt></dl>

<dl><dt><a name="CompositeImage-layer"><strong>layer</strong></a>(self, index)</dt><dd><tt>Returns&nbsp;a&nbsp;SubComposite&nbsp;with&nbsp;only&nbsp;images&nbsp;that&nbsp;are&nbsp;on&nbsp;the&nbsp;specified&nbsp;layer,&nbsp;that&nbsp;is<br>
all&nbsp;images&nbsp;where&nbsp;box.position[2]&nbsp;==&nbsp;index.<br>
Layers&nbsp;can&nbsp;be&nbsp;created&nbsp;when&nbsp;calling&nbsp;<a href="#CompositeImage-merge">merge</a>()&nbsp;with&nbsp;new_layer=True<br>
or&nbsp;manually&nbsp;by&nbsp;specifying&nbsp;a&nbsp;third&nbsp;dimension&nbsp;when&nbsp;adding&nbsp;images</tt></dd></dl>

<dl><dt><a name="CompositeImage-merge"><strong>merge</strong></a>(self, other_composite, *other_constraint_sets, new_layer=False, align_coords=False)</dt><dd><tt>Adds&nbsp;all&nbsp;images&nbsp;and&nbsp;constraints&nbsp;from&nbsp;another&nbsp;montage&nbsp;into&nbsp;this&nbsp;one.<br>
&nbsp;<br>
other_composite:&nbsp;<a href="#CompositeImage">CompositeImage</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;Another&nbsp;composite&nbsp;instance&nbsp;that&nbsp;will&nbsp;be&nbsp;added&nbsp;to&nbsp;this&nbsp;one.&nbsp;All&nbsp;images&nbsp;from<br>
&nbsp;&nbsp;&nbsp;&nbsp;it&nbsp;are&nbsp;added&nbsp;to&nbsp;this&nbsp;instance.&nbsp;All&nbsp;image&nbsp;positions&nbsp;are&nbsp;added,&nbsp;mantaining<br>
&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;scale_factors&nbsp;of&nbsp;both&nbsp;composites.<br>
&nbsp;<br>
Returns:&nbsp;list&nbsp;of&nbsp;indices<br>
&nbsp;&nbsp;&nbsp;&nbsp;returns&nbsp;the&nbsp;list&nbsp;of&nbsp;indices&nbsp;of&nbsp;the&nbsp;images&nbsp;added&nbsp;from&nbsp;the&nbsp;other&nbsp;composite.</tt></dd></dl>

<dl><dt><a name="CompositeImage-pair_func"><strong>pair_func</strong></a>(self)</dt></dl>

<dl><dt><a name="CompositeImage-plot_scores"><strong>plot_scores</strong></a>(self, path, constraints=None, score_func=None, axis_size=12)</dt></dl>

<dl><dt><a name="CompositeImage-print_mem_usage"><strong>print_mem_usage</strong></a>(self)</dt></dl>

<dl><dt><a name="CompositeImage-random_pair_func"><strong>random_pair_func</strong></a>(self)</dt></dl>

<dl><dt><a name="CompositeImage-resized_image"><strong>resized_image</strong></a>(self, index, scale_x, scale_y)</dt><dd><tt>Returns&nbsp;the&nbsp;image&nbsp;at&nbsp;self.<strong>images</strong>[index]&nbsp;but&nbsp;upscaled&nbsp;or&nbsp;downscaled<br>
by&nbsp;scale_x&nbsp;and&nbsp;scale_y.<br>
&nbsp;<br>
Args:<br>
&nbsp;&nbsp;&nbsp;&nbsp;index&nbsp;(int):&nbsp;index&nbsp;of&nbsp;image<br>
&nbsp;&nbsp;&nbsp;&nbsp;scale_x&nbsp;(int,&nbsp;float,&nbsp;fractions.Fraction):&nbsp;The&nbsp;scale&nbsp;multiplier&nbsp;across&nbsp;the&nbsp;x&nbsp;axis<br>
&nbsp;&nbsp;&nbsp;&nbsp;scale_x&nbsp;(int,&nbsp;float,&nbsp;fractions.Fraction):&nbsp;The&nbsp;scale&nbsp;multiplier&nbsp;across&nbsp;the&nbsp;y&nbsp;axis</tt></dd></dl>

<dl><dt><a name="CompositeImage-score_heatmap"><strong>score_heatmap</strong></a>(self, path, score_func=None)</dt></dl>

<dl><dt><a name="CompositeImage-set_aligner"><strong>set_aligner</strong></a>(self, aligner, rescore_constraints=False)</dt></dl>

<dl><dt><a name="CompositeImage-set_executor"><strong>set_executor</strong></a>(self, executor)</dt></dl>

<dl><dt><a name="CompositeImage-set_logging"><strong>set_logging</strong></a>(self, debug=True, progress=False)</dt></dl>

<dl><dt><a name="CompositeImage-set_scale"><strong>set_scale</strong></a>(self, scale_factor)</dt><dd><tt>Sets&nbsp;the&nbsp;scale&nbsp;factor&nbsp;of&nbsp;the&nbsp;composite.&nbsp;Normally&nbsp;this&nbsp;doesn't&nbsp;need&nbsp;to&nbsp;be&nbsp;changed,<br>
however&nbsp;if&nbsp;you&nbsp;are&nbsp;trying&nbsp;to&nbsp;stich&nbsp;together&nbsp;images&nbsp;taken&nbsp;at&nbsp;different&nbsp;magnifications&nbsp;you<br>
may&nbsp;need&nbsp;to&nbsp;modify&nbsp;the&nbsp;scale&nbsp;factor.<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;scale_factor:&nbsp;float&nbsp;or&nbsp;int<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Scale&nbsp;of&nbsp;images&nbsp;in&nbsp;this&nbsp;composite,&nbsp;as&nbsp;a&nbsp;multiplier.&nbsp;Eg&nbsp;a&nbsp;scale_factor&nbsp;of<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;10&nbsp;will&nbsp;result&nbsp;in&nbsp;each&nbsp;pixel&nbsp;in&nbsp;images&nbsp;corresponding&nbsp;to&nbsp;10&nbsp;pixels&nbsp;in&nbsp;the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output&nbsp;of&nbsp;functions&nbsp;like&nbsp;`<a href="#CompositeImage">CompositeImage</a>.stitch_images()`&nbsp;or&nbsp;when&nbsp;merging&nbsp;composites&nbsp;together.</tt></dd></dl>

<dl><dt><a name="CompositeImage-setimages"><strong>setimages</strong></a>(self, images)</dt><dd><tt>Updates&nbsp;the&nbsp;images&nbsp;of&nbsp;this&nbsp;composite.<br>
&nbsp;<br>
images&nbsp;(sequence&nbsp;or&nbsp;dict):&nbsp;The&nbsp;new&nbsp;images&nbsp;to&nbsp;be&nbsp;set<br>
&nbsp;&nbsp;&nbsp;&nbsp;If&nbsp;a&nbsp;sequence,&nbsp;it&nbsp;must&nbsp;be&nbsp;the&nbsp;current&nbsp;length&nbsp;of&nbsp;self.<strong>images</strong>.&nbsp;Each<br>
&nbsp;&nbsp;&nbsp;&nbsp;image&nbsp;is&nbsp;updated&nbsp;with&nbsp;the&nbsp;corresponding&nbsp;new&nbsp;image&nbsp;in&nbsp;the&nbsp;sequence.<br>
&nbsp;&nbsp;&nbsp;&nbsp;If&nbsp;a&nbsp;dict,&nbsp;it&nbsp;must&nbsp;map&nbsp;from&nbsp;indices&nbsp;within&nbsp;the&nbsp;range&nbsp;[0,&nbsp;len(self.<strong>images</strong>))<br>
&nbsp;&nbsp;&nbsp;&nbsp;to&nbsp;new&nbsp;images,&nbsp;that&nbsp;are&nbsp;set&nbsp;at&nbsp;said&nbsp;indices.<br>
&nbsp;&nbsp;&nbsp;&nbsp;All&nbsp;images&nbsp;must&nbsp;be&nbsp;numpy&nbsp;arrays&nbsp;of&nbsp;shape&nbsp;either&nbsp;(W,&nbsp;H)&nbsp;or&nbsp;(W,&nbsp;H,&nbsp;C).</tt></dd></dl>

<dl><dt><a name="CompositeImage-setpositions"><strong>setpositions</strong></a>(self, positions)</dt><dd><tt>Applies&nbsp;new&nbsp;positions&nbsp;to&nbsp;images&nbsp;in&nbsp;this&nbsp;composite.&nbsp;positions&nbsp;is&nbsp;either&nbsp;a&nbsp;dict<br>
mapping&nbsp;image&nbsp;indices&nbsp;to&nbsp;new&nbsp;positions,&nbsp;a&nbsp;sequence&nbsp;of&nbsp;new&nbsp;positions,&nbsp;or&nbsp;a&nbsp;constitch.Solver<br>
class&nbsp;that&nbsp;has&nbsp;had&nbsp;solve()&nbsp;run&nbsp;on&nbsp;it,&nbsp;usually&nbsp;from&nbsp;<a href="constitch.constraints.html#ConstraintSet">ConstraintSet</a>.solve</tt></dd></dl>

<dl><dt><a name="CompositeImage-stitch"><strong>stitch</strong></a>(self, indices=None, real_images=None, out=None, bg_value=None, return_bg_mask=False, mins=None, maxes=None, keep_zero=False, merger=None)</dt><dd><tt>Combines&nbsp;images&nbsp;in&nbsp;the&nbsp;composite&nbsp;into&nbsp;a&nbsp;single&nbsp;image<br>
&nbsp;<br>
indices:&nbsp;sequence&nbsp;of&nbsp;int<br>
&nbsp;&nbsp;&nbsp;&nbsp;Indices&nbsp;of&nbsp;images&nbsp;in&nbsp;the&nbsp;composite&nbsp;to&nbsp;be&nbsp;stitched&nbsp;together<br>
&nbsp;<br>
real_images:&nbsp;sequence&nbsp;of&nbsp;np.ndarray<br>
&nbsp;&nbsp;&nbsp;&nbsp;An&nbsp;alternative&nbsp;image&nbsp;list&nbsp;to&nbsp;be&nbsp;used&nbsp;in&nbsp;the&nbsp;stitching,&nbsp;instead&nbsp;of<br>
&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;stored&nbsp;images.&nbsp;Must&nbsp;be&nbsp;same&nbsp;length&nbsp;and&nbsp;each&nbsp;image&nbsp;must&nbsp;have&nbsp;the<br>
&nbsp;&nbsp;&nbsp;&nbsp;first&nbsp;two&nbsp;dimensions&nbsp;the&nbsp;same&nbsp;size&nbsp;as&nbsp;self.<strong>images</strong><br>
&nbsp;<br>
bg_value:&nbsp;scalar&nbsp;or&nbsp;array<br>
&nbsp;&nbsp;&nbsp;&nbsp;Value&nbsp;to&nbsp;fill&nbsp;empty&nbsp;areas&nbsp;of&nbsp;the&nbsp;image.<br>
&nbsp;<br>
return_bg_mask:&nbsp;bool<br>
&nbsp;&nbsp;&nbsp;&nbsp;If&nbsp;True&nbsp;a&nbsp;boolean&nbsp;mask&nbsp;of&nbsp;the&nbsp;background,&nbsp;pixels&nbsp;with&nbsp;no&nbsp;images<br>
&nbsp;&nbsp;&nbsp;&nbsp;in&nbsp;them,&nbsp;is&nbsp;returned.<br>
&nbsp;<br>
keep_zero:&nbsp;bool<br>
&nbsp;&nbsp;&nbsp;&nbsp;Whether&nbsp;or&nbsp;not&nbsp;to&nbsp;keep&nbsp;the&nbsp;origin&nbsp;in&nbsp;the&nbsp;result.&nbsp;If&nbsp;true&nbsp;this&nbsp;could<br>
&nbsp;&nbsp;&nbsp;&nbsp;result&nbsp;in&nbsp;extra&nbsp;blank&nbsp;space,&nbsp;which&nbsp;might&nbsp;be&nbsp;necessary&nbsp;when&nbsp;lining&nbsp;up<br>
&nbsp;&nbsp;&nbsp;&nbsp;multiple&nbsp;images.<br>
&nbsp;<br>
Returns:&nbsp;np.ndarray<br>
&nbsp;&nbsp;&nbsp;&nbsp;image&nbsp;stitched&nbsp;together</tt></dd></dl>

<dl><dt><a name="CompositeImage-subcomposite"><strong>subcomposite</strong></a>(self, indices, **kwargs)</dt><dd><tt>Returns&nbsp;a&nbsp;new&nbsp;composite&nbsp;with&nbsp;a&nbsp;subset&nbsp;of&nbsp;the&nbsp;images&nbsp;and&nbsp;constraints&nbsp;in&nbsp;this&nbsp;one.<br>
The&nbsp;images&nbsp;and&nbsp;positions&nbsp;are&nbsp;shared,&nbsp;so&nbsp;modifing&nbsp;them&nbsp;on&nbsp;the&nbsp;new&nbsp;composite&nbsp;will<br>
change&nbsp;them&nbsp;on&nbsp;the&nbsp;original.<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;indices:&nbsp;sequence&nbsp;of&nbsp;ints,&nbsp;sequence&nbsp;of&nbsp;bools,&nbsp;function<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;way&nbsp;to&nbsp;select&nbsp;the&nbsp;images&nbsp;to&nbsp;be&nbsp;included&nbsp;in&nbsp;the&nbsp;new&nbsp;composite.&nbsp;Can&nbsp;be:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a&nbsp;sequence&nbsp;of&nbsp;indices,&nbsp;a&nbsp;sequence&nbsp;of&nbsp;boolean&nbsp;values&nbsp;the&nbsp;same&nbsp;length&nbsp;as&nbsp;images,<br>
&nbsp;&nbsp;&nbsp;&nbsp;kwargs:&nbsp;arguments&nbsp;passed&nbsp;to&nbsp;the&nbsp;constructor&nbsp;of&nbsp;the&nbsp;subcomposite</tt></dd></dl>

<dl><dt><a name="CompositeImage-to_obj"><strong>to_obj</strong></a>(self)</dt></dl>

<hr>
Class methods defined here:<br>
<dl><dt><a name="CompositeImage-from_obj"><strong>from_obj</strong></a>(obj, **kwargs)<font color="#909090"><font face="helvetica, arial"> from <a href="builtins.html#type">builtins.type</a></font></font></dt></dl>

<hr>
Readonly properties defined here:<br>
<dl><dt><strong>positions</strong></dt>
</dl>
<hr>
Data descriptors defined here:<br>
<dl><dt><strong>__dict__</strong></dt>
<dd><tt>dictionary&nbsp;for&nbsp;instance&nbsp;variables&nbsp;(if&nbsp;defined)</tt></dd>
</dl>
<dl><dt><strong>__weakref__</strong></dt>
<dd><tt>list&nbsp;of&nbsp;weak&nbsp;references&nbsp;to&nbsp;the&nbsp;object&nbsp;(if&nbsp;defined)</tt></dd>
</dl>
</td></tr></table> <p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ffc8d8">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#000000" face="helvetica, arial"><a name="SequentialExecutor">class <strong>SequentialExecutor</strong></a>(<a href="concurrent.futures._base.html#Executor">concurrent.futures._base.Executor</a>)</font></td></tr>
    
<tr><td bgcolor="#ffc8d8"><tt>&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><dl><dt>Method resolution order:</dt>
<dd><a href="constitch.composite.html#SequentialExecutor">SequentialExecutor</a></dd>
<dd><a href="concurrent.futures._base.html#Executor">concurrent.futures._base.Executor</a></dd>
<dd><a href="builtins.html#object">builtins.object</a></dd>
</dl>
<hr>
Methods defined here:<br>
<dl><dt><a name="SequentialExecutor-submit"><strong>submit</strong></a>(self, func, *args, **kwargs)</dt><dd><tt>Submits&nbsp;a&nbsp;callable&nbsp;to&nbsp;be&nbsp;executed&nbsp;with&nbsp;the&nbsp;given&nbsp;arguments.<br>
&nbsp;<br>
Schedules&nbsp;the&nbsp;callable&nbsp;to&nbsp;be&nbsp;executed&nbsp;as&nbsp;fn(*args,&nbsp;**kwargs)&nbsp;and&nbsp;returns<br>
a&nbsp;Future&nbsp;instance&nbsp;representing&nbsp;the&nbsp;execution&nbsp;of&nbsp;the&nbsp;callable.<br>
&nbsp;<br>
Returns:<br>
&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;Future&nbsp;representing&nbsp;the&nbsp;given&nbsp;call.</tt></dd></dl>

<hr>
Methods inherited from <a href="concurrent.futures._base.html#Executor">concurrent.futures._base.Executor</a>:<br>
<dl><dt><a name="SequentialExecutor-__enter__"><strong>__enter__</strong></a>(self)</dt></dl>

<dl><dt><a name="SequentialExecutor-__exit__"><strong>__exit__</strong></a>(self, exc_type, exc_val, exc_tb)</dt></dl>

<dl><dt><a name="SequentialExecutor-map"><strong>map</strong></a>(self, fn, *iterables, timeout=None, chunksize=1)</dt><dd><tt>Returns&nbsp;an&nbsp;iterator&nbsp;equivalent&nbsp;to&nbsp;<a href="#SequentialExecutor-map">map</a>(fn,&nbsp;iter).<br>
&nbsp;<br>
Args:<br>
&nbsp;&nbsp;&nbsp;&nbsp;fn:&nbsp;A&nbsp;callable&nbsp;that&nbsp;will&nbsp;take&nbsp;as&nbsp;many&nbsp;arguments&nbsp;as&nbsp;there&nbsp;are<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;passed&nbsp;iterables.<br>
&nbsp;&nbsp;&nbsp;&nbsp;timeout:&nbsp;The&nbsp;maximum&nbsp;number&nbsp;of&nbsp;seconds&nbsp;to&nbsp;wait.&nbsp;If&nbsp;None,&nbsp;then&nbsp;there<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is&nbsp;no&nbsp;limit&nbsp;on&nbsp;the&nbsp;wait&nbsp;time.<br>
&nbsp;&nbsp;&nbsp;&nbsp;chunksize:&nbsp;The&nbsp;size&nbsp;of&nbsp;the&nbsp;chunks&nbsp;the&nbsp;iterable&nbsp;will&nbsp;be&nbsp;broken&nbsp;into<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;before&nbsp;being&nbsp;passed&nbsp;to&nbsp;a&nbsp;child&nbsp;process.&nbsp;This&nbsp;argument&nbsp;is&nbsp;only<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;used&nbsp;by&nbsp;ProcessPoolExecutor;&nbsp;it&nbsp;is&nbsp;ignored&nbsp;by<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ThreadPoolExecutor.<br>
&nbsp;<br>
Returns:<br>
&nbsp;&nbsp;&nbsp;&nbsp;An&nbsp;iterator&nbsp;equivalent&nbsp;to:&nbsp;<a href="#SequentialExecutor-map">map</a>(func,&nbsp;*iterables)&nbsp;but&nbsp;the&nbsp;calls&nbsp;may<br>
&nbsp;&nbsp;&nbsp;&nbsp;be&nbsp;evaluated&nbsp;out-of-order.<br>
&nbsp;<br>
Raises:<br>
&nbsp;&nbsp;&nbsp;&nbsp;TimeoutError:&nbsp;If&nbsp;the&nbsp;entire&nbsp;result&nbsp;iterator&nbsp;could&nbsp;not&nbsp;be&nbsp;generated<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;before&nbsp;the&nbsp;given&nbsp;timeout.<br>
&nbsp;&nbsp;&nbsp;&nbsp;Exception:&nbsp;If&nbsp;fn(*args)&nbsp;raises&nbsp;for&nbsp;any&nbsp;values.</tt></dd></dl>

<dl><dt><a name="SequentialExecutor-shutdown"><strong>shutdown</strong></a>(self, wait=True, *, cancel_futures=False)</dt><dd><tt>Clean-up&nbsp;the&nbsp;resources&nbsp;associated&nbsp;with&nbsp;the&nbsp;<a href="concurrent.futures._base.html#Executor">Executor</a>.<br>
&nbsp;<br>
It&nbsp;is&nbsp;safe&nbsp;to&nbsp;call&nbsp;this&nbsp;method&nbsp;several&nbsp;times.&nbsp;Otherwise,&nbsp;no&nbsp;other<br>
methods&nbsp;can&nbsp;be&nbsp;called&nbsp;after&nbsp;this&nbsp;one.<br>
&nbsp;<br>
Args:<br>
&nbsp;&nbsp;&nbsp;&nbsp;wait:&nbsp;If&nbsp;True&nbsp;then&nbsp;shutdown&nbsp;will&nbsp;not&nbsp;return&nbsp;until&nbsp;all&nbsp;running<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;futures&nbsp;have&nbsp;finished&nbsp;executing&nbsp;and&nbsp;the&nbsp;resources&nbsp;used&nbsp;by&nbsp;the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;executor&nbsp;have&nbsp;been&nbsp;reclaimed.<br>
&nbsp;&nbsp;&nbsp;&nbsp;cancel_futures:&nbsp;If&nbsp;True&nbsp;then&nbsp;shutdown&nbsp;will&nbsp;cancel&nbsp;all&nbsp;pending<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;futures.&nbsp;Futures&nbsp;that&nbsp;are&nbsp;completed&nbsp;or&nbsp;running&nbsp;will&nbsp;not&nbsp;be<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cancelled.</tt></dd></dl>

<hr>
Data descriptors inherited from <a href="concurrent.futures._base.html#Executor">concurrent.futures._base.Executor</a>:<br>
<dl><dt><strong>__dict__</strong></dt>
<dd><tt>dictionary&nbsp;for&nbsp;instance&nbsp;variables&nbsp;(if&nbsp;defined)</tt></dd>
</dl>
<dl><dt><strong>__weakref__</strong></dt>
<dd><tt>list&nbsp;of&nbsp;weak&nbsp;references&nbsp;to&nbsp;the&nbsp;object&nbsp;(if&nbsp;defined)</tt></dd>
</dl>
</td></tr></table> <p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ffc8d8">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#000000" face="helvetica, arial"><a name="SequentialExecutorFuture">class <strong>SequentialExecutorFuture</strong></a>(<a href="builtins.html#object">builtins.object</a>)</font></td></tr>
    
<tr bgcolor="#ffc8d8"><td rowspan=2><tt>&nbsp;&nbsp;&nbsp;</tt></td>
<td colspan=2><tt><a href="#SequentialExecutorFuture">SequentialExecutorFuture</a>(func,&nbsp;args,&nbsp;kwargs)<br>
&nbsp;<br>
<br>&nbsp;</tt></td></tr>
<tr><td>&nbsp;</td>
<td width="100%">Methods defined here:<br>
<dl><dt><a name="SequentialExecutorFuture-__init__"><strong>__init__</strong></a>(self, func, args, kwargs)</dt><dd><tt>Initialize&nbsp;self.&nbsp;&nbsp;See&nbsp;help(type(self))&nbsp;for&nbsp;accurate&nbsp;signature.</tt></dd></dl>

<dl><dt><a name="SequentialExecutorFuture-result"><strong>result</strong></a>(self)</dt></dl>

<hr>
Data descriptors defined here:<br>
<dl><dt><strong>__dict__</strong></dt>
<dd><tt>dictionary&nbsp;for&nbsp;instance&nbsp;variables&nbsp;(if&nbsp;defined)</tt></dd>
</dl>
<dl><dt><strong>__weakref__</strong></dt>
<dd><tt>list&nbsp;of&nbsp;weak&nbsp;references&nbsp;to&nbsp;the&nbsp;object&nbsp;(if&nbsp;defined)</tt></dd>
</dl>
</td></tr></table> <p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ffc8d8">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#000000" face="helvetica, arial"><a name="SubCompositeBBoxList">class <strong>SubCompositeBBoxList</strong></a>(<a href="constitch.composite.html#BBoxList">BBoxList</a>)</font></td></tr>
    
<tr bgcolor="#ffc8d8"><td rowspan=2><tt>&nbsp;&nbsp;&nbsp;</tt></td>
<td colspan=2><tt><a href="#SubCompositeBBoxList">SubCompositeBBoxList</a>(boxes,&nbsp;mapping)<br>
&nbsp;<br>
<br>&nbsp;</tt></td></tr>
<tr><td>&nbsp;</td>
<td width="100%"><dl><dt>Method resolution order:</dt>
<dd><a href="constitch.composite.html#SubCompositeBBoxList">SubCompositeBBoxList</a></dd>
<dd><a href="constitch.composite.html#BBoxList">BBoxList</a></dd>
<dd><a href="builtins.html#object">builtins.object</a></dd>
</dl>
<hr>
Methods defined here:<br>
<dl><dt><a name="SubCompositeBBoxList-__init__"><strong>__init__</strong></a>(self, boxes, mapping)</dt><dd><tt>Initialize&nbsp;self.&nbsp;&nbsp;See&nbsp;help(type(self))&nbsp;for&nbsp;accurate&nbsp;signature.</tt></dd></dl>

<dl><dt><a name="SubCompositeBBoxList-append"><strong>append</strong></a>(self, box)</dt><dd><tt>Add&nbsp;a&nbsp;new&nbsp;<a href="#BBox">BBox</a>&nbsp;to&nbsp;this&nbsp;list.&nbsp;Typically&nbsp;users&nbsp;should&nbsp;not&nbsp;need&nbsp;to&nbsp;use<br>
this,&nbsp;instead&nbsp;add&nbsp;images&nbsp;through&nbsp;the&nbsp;<a href="#CompositeImage">CompositeImage</a>.add_images&nbsp;and&nbsp;similar<br>
methods</tt></dd></dl>

<hr>
Readonly properties defined here:<br>
<dl><dt><strong>points2</strong></dt>
<dd><tt>The&nbsp;higher&nbsp;point&nbsp;of&nbsp;all&nbsp;bounding&nbsp;boxes&nbsp;in&nbsp;the&nbsp;list&nbsp;as&nbsp;a&nbsp;2d&nbsp;array.&nbsp;See&nbsp;BBox.point2.<br>
Setting&nbsp;this&nbsp;will&nbsp;update&nbsp;all&nbsp;sizes,&nbsp;same&nbsp;as&nbsp;assigning&nbsp;to&nbsp;BBox.point2</tt></dd>
</dl>
<hr>
Data descriptors defined here:<br>
<dl><dt><strong>points1</strong></dt>
<dd><tt>The&nbsp;lower&nbsp;point&nbsp;of&nbsp;all&nbsp;bounding&nbsp;boxes&nbsp;in&nbsp;the&nbsp;list&nbsp;as&nbsp;a&nbsp;2d&nbsp;array.&nbsp;See&nbsp;BBox.point1.</tt></dd>
</dl>
<dl><dt><strong>positions</strong></dt>
<dd><tt>The&nbsp;positions&nbsp;of&nbsp;all&nbsp;boxes&nbsp;in&nbsp;the&nbsp;list,&nbsp;as&nbsp;a&nbsp;2d&nbsp;numpy&nbsp;array.&nbsp;See&nbsp;BBox.position<br>
for&nbsp;specifics&nbsp;about&nbsp;the&nbsp;positions&nbsp;of&nbsp;the&nbsp;boxes.<br>
Setting&nbsp;this&nbsp;will&nbsp;update&nbsp;all&nbsp;positions,&nbsp;as&nbsp;well&nbsp;as&nbsp;modifying&nbsp;slices,&nbsp;such<br>
as&nbsp;self.<strong>positions</strong>[:,0]&nbsp;+=&nbsp;100&nbsp;would&nbsp;increase&nbsp;all&nbsp;x&nbsp;positions&nbsp;by&nbsp;100.</tt></dd>
</dl>
<dl><dt><strong>sizes</strong></dt>
<dd><tt>The&nbsp;sizes&nbsp;of&nbsp;all&nbsp;boxes&nbsp;in&nbsp;the&nbsp;list&nbsp;as&nbsp;a&nbsp;2d&nbsp;array.&nbsp;See&nbsp;BBox.size.<br>
Setting&nbsp;this&nbsp;will&nbsp;update&nbsp;all&nbsp;sizes,&nbsp;same&nbsp;as&nbsp;assigning&nbsp;to&nbsp;BBox.size</tt></dd>
</dl>
<hr>
Methods inherited from <a href="constitch.composite.html#BBoxList">BBoxList</a>:<br>
<dl><dt><a name="SubCompositeBBoxList-__contains__"><strong>__contains__</strong></a>(self, box)</dt></dl>

<dl><dt><a name="SubCompositeBBoxList-__getitem__"><strong>__getitem__</strong></a>(self, index)</dt></dl>

<dl><dt><a name="SubCompositeBBoxList-__iter__"><strong>__iter__</strong></a>(self)</dt></dl>

<dl><dt><a name="SubCompositeBBoxList-__len__"><strong>__len__</strong></a>(self)</dt></dl>

<dl><dt><a name="SubCompositeBBoxList-__repr__"><strong>__repr__</strong></a>(self)</dt><dd><tt>Return&nbsp;repr(self).</tt></dd></dl>

<dl><dt><a name="SubCompositeBBoxList-__str__"><strong>__str__</strong></a>(self)</dt><dd><tt>Return&nbsp;str(self).</tt></dd></dl>

<dl><dt><a name="SubCompositeBBoxList-copy"><strong>copy</strong></a>(self)</dt></dl>

<dl><dt><a name="SubCompositeBBoxList-index"><strong>index</strong></a>(self, box)</dt></dl>

<dl><dt><a name="SubCompositeBBoxList-resize"><strong>resize</strong></a>(self, n_dims)</dt><dd><tt>Changes&nbsp;the&nbsp;number&nbsp;of&nbsp;dimensions&nbsp;all&nbsp;boxes&nbsp;in&nbsp;the&nbsp;list&nbsp;have.&nbsp;It&nbsp;is&nbsp;enforced<br>
that&nbsp;all&nbsp;boxes&nbsp;in&nbsp;the&nbsp;list&nbsp;have&nbsp;the&nbsp;same&nbsp;number&nbsp;of&nbsp;dimensions.&nbsp;When&nbsp;adding&nbsp;a&nbsp;dimension<br>
it&nbsp;is&nbsp;filled&nbsp;with&nbsp;zeros</tt></dd></dl>

<dl><dt><a name="SubCompositeBBoxList-setpositions"><strong>setpositions</strong></a>(self, positions)</dt><dd><tt>Applies&nbsp;new&nbsp;positions&nbsp;to&nbsp;all&nbsp;boxes<br>
Args:<br>
&nbsp;&nbsp;&nbsp;&nbsp;positions&nbsp;(sequence&nbsp;of&nbsp;positions,&nbsp;dict&nbsp;of&nbsp;positions,&nbsp;callable):<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Specifies&nbsp;a&nbsp;change&nbsp;in&nbsp;positions&nbsp;for&nbsp;boxes,&nbsp;depending&nbsp;on&nbsp;the&nbsp;type:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If&nbsp;a&nbsp;numpy&nbsp;array,&nbsp;the&nbsp;new&nbsp;positions&nbsp;are&nbsp;set&nbsp;as&nbsp;self.<strong>positions</strong>,&nbsp;maintaining&nbsp;sizes&nbsp;of&nbsp;boxes.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If&nbsp;a&nbsp;dict&nbsp;of&nbsp;positions,&nbsp;each&nbsp;entry&nbsp;will&nbsp;be&nbsp;set&nbsp;as&nbsp;the&nbsp;position&nbsp;of&nbsp;the&nbsp;box&nbsp;at&nbsp;the&nbsp;key.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If&nbsp;a&nbsp;callable,&nbsp;it&nbsp;is&nbsp;invoked&nbsp;for&nbsp;each&nbsp;box.&nbsp;If&nbsp;it&nbsp;returns&nbsp;a&nbsp;new&nbsp;position&nbsp;it&nbsp;is&nbsp;applied&nbsp;to&nbsp;the&nbsp;box</tt></dd></dl>

<hr>
Readonly properties inherited from <a href="constitch.composite.html#BBoxList">BBoxList</a>:<br>
<dl><dt><strong>centers</strong></dt>
<dd><tt>The&nbsp;center&nbsp;pixel&nbsp;of&nbsp;all&nbsp;image&nbsp;boxes,&nbsp;rounded&nbsp;to&nbsp;the&nbsp;nearest&nbsp;pixel.</tt></dd>
</dl>
<hr>
Data descriptors inherited from <a href="constitch.composite.html#BBoxList">BBoxList</a>:<br>
<dl><dt><strong>__dict__</strong></dt>
<dd><tt>dictionary&nbsp;for&nbsp;instance&nbsp;variables&nbsp;(if&nbsp;defined)</tt></dd>
</dl>
<dl><dt><strong>__weakref__</strong></dt>
<dd><tt>list&nbsp;of&nbsp;weak&nbsp;references&nbsp;to&nbsp;the&nbsp;object&nbsp;(if&nbsp;defined)</tt></dd>
</dl>
</td></tr></table> <p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ffc8d8">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#000000" face="helvetica, arial"><a name="SubCompositeConstraintSet">class <strong>SubCompositeConstraintSet</strong></a>(<a href="constitch.composite.html#CompositeConstraintSet">CompositeConstraintSet</a>)</font></td></tr>
    
<tr bgcolor="#ffc8d8"><td rowspan=2><tt>&nbsp;&nbsp;&nbsp;</tt></td>
<td colspan=2><tt><a href="#SubCompositeConstraintSet">SubCompositeConstraintSet</a>(composite,&nbsp;pair_func,&nbsp;random_pair_func,&nbsp;mapping)<br>
&nbsp;<br>
<br>&nbsp;</tt></td></tr>
<tr><td>&nbsp;</td>
<td width="100%"><dl><dt>Method resolution order:</dt>
<dd><a href="constitch.composite.html#SubCompositeConstraintSet">SubCompositeConstraintSet</a></dd>
<dd><a href="constitch.composite.html#CompositeConstraintSet">CompositeConstraintSet</a></dd>
<dd><a href="constitch.constraints.html#ConstraintSet">constitch.constraints.ConstraintSet</a></dd>
<dd><a href="builtins.html#object">builtins.object</a></dd>
</dl>
<hr>
Methods defined here:<br>
<dl><dt><a name="SubCompositeConstraintSet-__getitem__"><strong>__getitem__</strong></a>(self, pair)</dt></dl>

<dl><dt><a name="SubCompositeConstraintSet-__init__"><strong>__init__</strong></a>(self, composite, pair_func, random_pair_func, mapping)</dt><dd><tt>Initialize&nbsp;self.&nbsp;&nbsp;See&nbsp;help(type(self))&nbsp;for&nbsp;accurate&nbsp;signature.</tt></dd></dl>

<hr>
Methods inherited from <a href="constitch.composite.html#CompositeConstraintSet">CompositeConstraintSet</a>:<br>
<dl><dt><a name="SubCompositeConstraintSet-__call__"><strong>__call__</strong></a>(self, *args, **kwargs)</dt><dd><tt>Call&nbsp;self&nbsp;as&nbsp;a&nbsp;function.</tt></dd></dl>

<dl><dt><a name="SubCompositeConstraintSet-add"><strong>add</strong></a>(self, obj)</dt><dd><tt>Add&nbsp;constraints&nbsp;to&nbsp;this&nbsp;set<br>
&nbsp;<br>
If&nbsp;a&nbsp;constraint&nbsp;between&nbsp;the&nbsp;same&nbsp;images&nbsp;is&nbsp;already&nbsp;present,&nbsp;the&nbsp;constraint<br>
with&nbsp;the&nbsp;lower&nbsp;error&nbsp;is&nbsp;kept&nbsp;and&nbsp;the&nbsp;other&nbsp;is&nbsp;removed.<br>
In&nbsp;the&nbsp;case&nbsp;of&nbsp;equal&nbsp;errors&nbsp;the&nbsp;new&nbsp;constraint&nbsp;is&nbsp;kept<br>
&nbsp;<br>
Args:<br>
&nbsp;&nbsp;&nbsp;&nbsp;other&nbsp;(Constraint&nbsp;or&nbsp;sequence&nbsp;of&nbsp;Constraints):&nbsp;Constraint&nbsp;or&nbsp;Constraints&nbsp;to&nbsp;add<br>
&nbsp;<br>
Raises:<br>
&nbsp;&nbsp;&nbsp;&nbsp;ValueError:&nbsp;The&nbsp;constraint(s)&nbsp;to&nbsp;be&nbsp;added&nbsp;are&nbsp;from&nbsp;a&nbsp;different&nbsp;<a href="#CompositeImage">CompositeImage</a></tt></dd></dl>

<dl><dt><a name="SubCompositeConstraintSet-filter"><strong>filter</strong></a>(self, *args, random=False, **kwargs)</dt><dd><tt>Returns&nbsp;a&nbsp;new&nbsp;<a href="constitch.constraints.html#ConstraintSet">ConstraintSet</a>&nbsp;with&nbsp;only&nbsp;constraints&nbsp;that&nbsp;are<br>
matching&nbsp;the&nbsp;specified&nbsp;filter.<br>
&nbsp;<br>
Either&nbsp;a&nbsp;ConstraintFilter&nbsp;instance&nbsp;can&nbsp;be&nbsp;passed&nbsp;in&nbsp;or&nbsp;an&nbsp;<a href="builtins.html#object">object</a>&nbsp;that<br>
can&nbsp;be&nbsp;converted&nbsp;into&nbsp;a&nbsp;filter,&nbsp;ie&nbsp;a&nbsp;dictionary&nbsp;or&nbsp;a&nbsp;set&nbsp;of&nbsp;keyword&nbsp;arguments.<br>
See&nbsp;ConstraintFilter&nbsp;for&nbsp;the&nbsp;full&nbsp;documentation&nbsp;on&nbsp;creating&nbsp;a&nbsp;filter.<br>
&nbsp;<br>
Args:<br>
&nbsp;&nbsp;&nbsp;&nbsp;obj:&nbsp;The&nbsp;filter&nbsp;or&nbsp;<a href="builtins.html#object">object</a>&nbsp;to&nbsp;be&nbsp;converted&nbsp;into&nbsp;a&nbsp;filter.&nbsp;Can&nbsp;be&nbsp;many&nbsp;types:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If&nbsp;it&nbsp;is&nbsp;a&nbsp;ConstraintFilter&nbsp;or&nbsp;a&nbsp;callable&nbsp;it&nbsp;is&nbsp;applied&nbsp;as&nbsp;the&nbsp;filter<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If&nbsp;it&nbsp;is&nbsp;a&nbsp;numpy&nbsp;bool&nbsp;array,&nbsp;it&nbsp;is&nbsp;used&nbsp;to&nbsp;filter&nbsp;constraint,&nbsp;mapping&nbsp;with<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;order&nbsp;of&nbsp;self.<strong>constraints</strong><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If&nbsp;it&nbsp;is&nbsp;a&nbsp;set&nbsp;or&nbsp;list&nbsp;of&nbsp;pairs&nbsp;of&nbsp;indices,&nbsp;only&nbsp;constraints&nbsp;for&nbsp;those&nbsp;pairs&nbsp;are&nbsp;kept<br>
&nbsp;&nbsp;&nbsp;&nbsp;limit&nbsp;(int):&nbsp;The&nbsp;maximum&nbsp;number&nbsp;of&nbsp;constraints&nbsp;returned<br>
&nbsp;&nbsp;&nbsp;&nbsp;random&nbsp;(bool):&nbsp;If&nbsp;true&nbsp;the&nbsp;constraints&nbsp;are&nbsp;shuffled<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Normally&nbsp;used&nbsp;in&nbsp;conjunction&nbsp;with&nbsp;the&nbsp;limit&nbsp;argument&nbsp;to&nbsp;select&nbsp;a&nbsp;random<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sample&nbsp;of&nbsp;the&nbsp;constraints<br>
&nbsp;&nbsp;&nbsp;&nbsp;sorted_by&nbsp;(function&nbsp;or&nbsp;str):&nbsp;key&nbsp;to&nbsp;sort&nbsp;constraints&nbsp;on<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Either&nbsp;a&nbsp;function&nbsp;that&nbsp;can&nbsp;be&nbsp;passed&nbsp;as&nbsp;a&nbsp;key&nbsp;to&nbsp;sorted()&nbsp;or&nbsp;a&nbsp;string<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;that&nbsp;is&nbsp;an&nbsp;attribute&nbsp;of&nbsp;a&nbsp;constraint.&nbsp;Used&nbsp;to&nbsp;sort&nbsp;the&nbsp;constraints,&nbsp;normally<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;used&nbsp;with&nbsp;the&nbsp;limit&nbsp;argument<br>
&nbsp;&nbsp;&nbsp;&nbsp;kwargs:&nbsp;Any&nbsp;keyword&nbsp;arguments&nbsp;are&nbsp;passed&nbsp;to&nbsp;a&nbsp;new&nbsp;ConstraintFilter()&nbsp;constructor<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and&nbsp;applied&nbsp;as&nbsp;a&nbsp;filter<br>
&nbsp;<br>
Returns:<br>
&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;new&nbsp;<a href="constitch.constraints.html#ConstraintSet">ConstraintSet</a>&nbsp;with&nbsp;the&nbsp;filtered&nbsp;Constraints</tt></dd></dl>

<hr>
Methods inherited from <a href="constitch.constraints.html#ConstraintSet">constitch.constraints.ConstraintSet</a>:<br>
<dl><dt><a name="SubCompositeConstraintSet-__contains__"><strong>__contains__</strong></a>(self, obj)</dt><dd><tt>Tests&nbsp;if&nbsp;a&nbsp;Constraint&nbsp;or&nbsp;a&nbsp;pair&nbsp;is&nbsp;contained</tt></dd></dl>

<dl><dt><a name="SubCompositeConstraintSet-__getattr__"><strong>__getattr__</strong></a>(self, name)</dt><dd><tt>Some&nbsp;attributes&nbsp;of&nbsp;Constraint&nbsp;can&nbsp;be&nbsp;accessed&nbsp;from&nbsp;a&nbsp;<a href="constitch.constraints.html#ConstraintSet">ConstraintSet</a>,&nbsp;returned&nbsp;as&nbsp;a&nbsp;numpy<br>
array&nbsp;of&nbsp;the&nbsp;values&nbsp;for&nbsp;all&nbsp;constraints,&nbsp;in&nbsp;the&nbsp;order&nbsp;of&nbsp;self.<a href="#SubCompositeConstraintSet-keys">keys</a>()</tt></dd></dl>

<dl><dt><a name="SubCompositeConstraintSet-__iter__"><strong>__iter__</strong></a>(self)</dt><dd><tt>Iterates&nbsp;through&nbsp;all&nbsp;constraints&nbsp;in&nbsp;this&nbsp;set</tt></dd></dl>

<dl><dt><a name="SubCompositeConstraintSet-__len__"><strong>__len__</strong></a>(self)</dt></dl>

<dl><dt><a name="SubCompositeConstraintSet-calculate"><strong>calculate</strong></a>(self, aligner=None, executor=None)</dt><dd><tt>Calculates&nbsp;new&nbsp;constraints&nbsp;using&nbsp;an&nbsp;alignment&nbsp;algorithm<br>
&nbsp;<br>
For&nbsp;every&nbsp;constraint&nbsp;the&nbsp;provided&nbsp;aligner&nbsp;is&nbsp;invoked&nbsp;to&nbsp;calculate<br>
a&nbsp;new&nbsp;constraint.&nbsp;See&nbsp;constitch.alignment&nbsp;for&nbsp;more&nbsp;information&nbsp;on<br>
alignment.<br>
&nbsp;<br>
Args:<br>
&nbsp;&nbsp;&nbsp;&nbsp;aligner&nbsp;(constitch.Aligner):&nbsp;default&nbsp;self.<strong>composite</strong>.aligner<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;aligner&nbsp;that&nbsp;is&nbsp;used&nbsp;to&nbsp;calculate&nbsp;the&nbsp;new&nbsp;constraints<br>
&nbsp;&nbsp;&nbsp;&nbsp;executor&nbsp;(concurrent.futures.<a href="concurrent.futures._base.html#Executor">Executor</a>):&nbsp;default&nbsp;self.<strong>composite</strong>.executor<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;thread&nbsp;or&nbsp;process&nbsp;pool&nbsp;instance&nbsp;to&nbsp;parallelize&nbsp;the&nbsp;computation,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;as&nbsp;some&nbsp;aligners&nbsp;can&nbsp;be&nbsp;quite&nbsp;slow</tt></dd></dl>

<dl><dt><a name="SubCompositeConstraintSet-debug"><strong>debug</strong></a>(self, *args, **kwargs)</dt><dd><tt>A&nbsp;shorthand&nbsp;for&nbsp;self.<strong>composite</strong>.debug</tt></dd></dl>

<dl><dt><a name="SubCompositeConstraintSet-find"><strong>find</strong></a>(self, obj=None, **kwargs)</dt><dd><tt>Returns&nbsp;the&nbsp;first&nbsp;constraint&nbsp;to&nbsp;match&nbsp;a&nbsp;filter<br>
&nbsp;<br>
Uses&nbsp;the&nbsp;same&nbsp;interface&nbsp;as&nbsp;self.<strong>filter</strong>&nbsp;but&nbsp;returns&nbsp;the&nbsp;first<br>
constraint&nbsp;that&nbsp;matches&nbsp;the&nbsp;filter</tt></dd></dl>

<dl><dt><a name="SubCompositeConstraintSet-fit_model"><strong>fit_model</strong></a>(self, model=None, outliers=False, random_state=12345)</dt><dd><tt>Fits&nbsp;a&nbsp;linear&nbsp;model&nbsp;to&nbsp;the&nbsp;constraints&nbsp;in&nbsp;this&nbsp;set<br>
&nbsp;<br>
This&nbsp;learns&nbsp;the&nbsp;motion&nbsp;of&nbsp;the&nbsp;microscope&nbsp;stage,&nbsp;which&nbsp;can&nbsp;be&nbsp;used&nbsp;to&nbsp;fill&nbsp;in<br>
constraints&nbsp;in&nbsp;areas&nbsp;where&nbsp;there&nbsp;are&nbsp;not&nbsp;enough&nbsp;features&nbsp;to&nbsp;align.<br>
&nbsp;<br>
The&nbsp;model&nbsp;is&nbsp;trained&nbsp;on&nbsp;the&nbsp;relation&nbsp;between&nbsp;the&nbsp;offset&nbsp;in&nbsp;image&nbsp;positions,<br>
that&nbsp;is&nbsp;box2.position&nbsp;-&nbsp;bos1.position,&nbsp;and&nbsp;the&nbsp;offset&nbsp;specified&nbsp;in&nbsp;dx&nbsp;and&nbsp;dy.<br>
&nbsp;<br>
Args:<br>
&nbsp;&nbsp;&nbsp;&nbsp;model&nbsp;(sklearn&nbsp;base&nbsp;model):&nbsp;default&nbsp;constitch.SimpleOffsetModel()<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;linear&nbsp;model&nbsp;to&nbsp;train,&nbsp;it&nbsp;should&nbsp;be&nbsp;a&nbsp;sklearn&nbsp;model&nbsp;class,&nbsp;meaning<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;it&nbsp;has&nbsp;a&nbsp;fit&nbsp;and&nbsp;predict&nbsp;method.&nbsp;The&nbsp;fit&nbsp;method&nbsp;is&nbsp;called<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;X&nbsp;as&nbsp;a&nbsp;4&nbsp;column&nbsp;matrix&nbsp;containing&nbsp;the&nbsp;x&nbsp;and&nbsp;y&nbsp;positions&nbsp;of&nbsp;image1&nbsp;and&nbsp;image2<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;all&nbsp;constraints,&nbsp;and&nbsp;y&nbsp;as&nbsp;a&nbsp;2&nbsp;column&nbsp;matrix&nbsp;with&nbsp;dx&nbsp;and&nbsp;dy&nbsp;for&nbsp;all&nbsp;constraints<br>
&nbsp;&nbsp;&nbsp;&nbsp;outliers&nbsp;(bool):&nbsp;Whether&nbsp;to&nbsp;use&nbsp;an&nbsp;outlier&nbsp;resistant&nbsp;model<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If&nbsp;set&nbsp;to&nbsp;True&nbsp;the&nbsp;provided&nbsp;model&nbsp;is&nbsp;wrapped&nbsp;in&nbsp;sklearn.linear_model.RANSACRegressor,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and&nbsp;the&nbsp;inlier&nbsp;and&nbsp;outlier&nbsp;classifications&nbsp;are&nbsp;added&nbsp;onto&nbsp;the&nbsp;returned<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result&nbsp;as&nbsp;result.inliers&nbsp;and&nbsp;result.outliers.&nbsp;These&nbsp;are&nbsp;new&nbsp;ConstraintSets<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;containing&nbsp;only&nbsp;the&nbsp;inliers&nbsp;and&nbsp;outliers&nbsp;that&nbsp;the&nbsp;model&nbsp;classified<br>
&nbsp;&nbsp;&nbsp;&nbsp;random_state:&nbsp;the&nbsp;random&nbsp;state&nbsp;passed&nbsp;to&nbsp;RANSACRegressor&nbsp;when&nbsp;outliers=True<br>
&nbsp;<br>
Returns:<br>
&nbsp;&nbsp;&nbsp;&nbsp;An&nbsp;Aligner&nbsp;class&nbsp;that&nbsp;can&nbsp;be&nbsp;used&nbsp;to&nbsp;calculate&nbsp;new&nbsp;constraints,&nbsp;using<br>
&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;linear&nbsp;model&nbsp;fit&nbsp;here.</tt></dd></dl>

<dl><dt><a name="SubCompositeConstraintSet-items"><strong>items</strong></a>(self)</dt></dl>

<dl><dt><a name="SubCompositeConstraintSet-keys"><strong>keys</strong></a>(self)</dt></dl>

<dl><dt><a name="SubCompositeConstraintSet-merge"><strong>merge</strong></a>(self, other, *others)</dt><dd><tt>Returns&nbsp;a&nbsp;new&nbsp;ConstaintSet&nbsp;with&nbsp;combined&nbsp;constraints&nbsp;from&nbsp;this&nbsp;and&nbsp;other&nbsp;sets<br>
&nbsp;<br>
As&nbsp;with&nbsp;<a href="#SubCompositeConstraintSet-add">add</a>(),&nbsp;if&nbsp;constraints&nbsp;between&nbsp;the&nbsp;same&nbsp;image&nbsp;pair&nbsp;are&nbsp;present&nbsp;in&nbsp;both&nbsp;sets<br>
then&nbsp;the&nbsp;constraint&nbsp;with&nbsp;the&nbsp;lowest&nbsp;error&nbsp;is&nbsp;kept,&nbsp;with&nbsp;ties&nbsp;defaulting&nbsp;to&nbsp;constraints&nbsp;in&nbsp;the<br>
last&nbsp;passed&nbsp;in&nbsp;set<br>
&nbsp;<br>
Args:<br>
&nbsp;&nbsp;&nbsp;&nbsp;other&nbsp;(Constraint&nbsp;or&nbsp;sequence&nbsp;of&nbsp;Constraints):&nbsp;Constraint&nbsp;or&nbsp;Constraints&nbsp;to<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;merge&nbsp;with&nbsp;new&nbsp;set<br>
&nbsp;<br>
Raises:<br>
&nbsp;&nbsp;&nbsp;&nbsp;ValueError:&nbsp;The&nbsp;constraints&nbsp;to&nbsp;be&nbsp;merged&nbsp;are&nbsp;from&nbsp;a&nbsp;different&nbsp;ConstraintImage</tt></dd></dl>

<dl><dt><a name="SubCompositeConstraintSet-neighborhood_difference"><strong>neighborhood_difference</strong></a>(self, constraint)</dt><dd><tt>A&nbsp;metric&nbsp;that&nbsp;measures&nbsp;how&nbsp;well&nbsp;this&nbsp;constraint&nbsp;matches&nbsp;the&nbsp;image<br>
positions,&nbsp;taking&nbsp;into&nbsp;account&nbsp;neighboring&nbsp;constraints.</tt></dd></dl>

<dl><dt><a name="SubCompositeConstraintSet-neighboring"><strong>neighboring</strong></a>(self, constraint, depth=1)</dt><dd><tt>Returns&nbsp;a&nbsp;new&nbsp;<a href="constitch.constraints.html#ConstraintSet">ConstraintSet</a>&nbsp;containing&nbsp;only&nbsp;constraints&nbsp;that<br>
are&nbsp;connected&nbsp;to&nbsp;an&nbsp;initial&nbsp;constraint&nbsp;or&nbsp;image<br>
&nbsp;<br>
The&nbsp;starting&nbsp;location&nbsp;is&nbsp;specified&nbsp;by&nbsp;passing&nbsp;either&nbsp;a&nbsp;constraint,&nbsp;a<br>
image&nbsp;index,&nbsp;or&nbsp;a&nbsp;sequence&nbsp;of&nbsp;either.&nbsp;Constraints&nbsp;are&nbsp;added&nbsp;by&nbsp;BFS&nbsp;to<br>
the&nbsp;requested&nbsp;depth.&nbsp;Any&nbsp;constraints&nbsp;provided&nbsp;as&nbsp;a&nbsp;starting&nbsp;location<br>
are&nbsp;not&nbsp;included&nbsp;in&nbsp;the&nbsp;resulting&nbsp;set</tt></dd></dl>

<dl><dt><a name="SubCompositeConstraintSet-progress"><strong>progress</strong></a>(self, iter, **kwargs)</dt><dd><tt>A&nbsp;shorthand&nbsp;for&nbsp;self.<strong>composite</strong>.progress</tt></dd></dl>

<dl><dt><a name="SubCompositeConstraintSet-remove"><strong>remove</strong></a>(self, other)</dt><dd><tt>Remove&nbsp;constraints&nbsp;from&nbsp;this&nbsp;set<br>
&nbsp;<br>
Args:<br>
&nbsp;&nbsp;&nbsp;&nbsp;other&nbsp;(Constraint,&nbsp;(int,&nbsp;int)&nbsp;or&nbsp;sequence&nbsp;of&nbsp;either):<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;constraints&nbsp;or&nbsp;pairs&nbsp;to&nbsp;be&nbsp;removed<br>
&nbsp;<br>
Raises:<br>
&nbsp;&nbsp;&nbsp;&nbsp;KeyError:&nbsp;The&nbsp;specified&nbsp;constraint&nbsp;does&nbsp;not&nbsp;exist</tt></dd></dl>

<dl><dt><a name="SubCompositeConstraintSet-solve"><strong>solve</strong></a>(self, solver=None)</dt><dd><tt>Solve&nbsp;the&nbsp;constraints&nbsp;to&nbsp;get&nbsp;a&nbsp;global&nbsp;position&nbsp;for&nbsp;each&nbsp;image<br>
&nbsp;<br>
Args:<br>
&nbsp;&nbsp;&nbsp;&nbsp;solver&nbsp;(constitch.Solver):&nbsp;default&nbsp;constitch.LinearSolver()<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;solver&nbsp;class&nbsp;that&nbsp;is&nbsp;used&nbsp;to&nbsp;combine&nbsp;the&nbsp;overconstrainted<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;system&nbsp;of&nbsp;constraints&nbsp;and&nbsp;optimize&nbsp;for&nbsp;the&nbsp;best&nbsp;global&nbsp;positions.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;More&nbsp;info&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;constitch.solving<br>
&nbsp;<br>
Returns:<br>
&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;solver&nbsp;instance,&nbsp;with&nbsp;an&nbsp;attribute&nbsp;positions&nbsp;containing&nbsp;a&nbsp;dict<br>
&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;image&nbsp;indices&nbsp;to&nbsp;their&nbsp;global&nbsp;positions</tt></dd></dl>

<dl><dt><a name="SubCompositeConstraintSet-values"><strong>values</strong></a>(self)</dt></dl>

<hr>
Readonly properties inherited from <a href="constitch.constraints.html#ConstraintSet">constitch.constraints.ConstraintSet</a>:<br>
<dl><dt><strong>composite</strong></dt>
<dd><tt>The&nbsp;composite&nbsp;that&nbsp;contains&nbsp;all&nbsp;the&nbsp;images&nbsp;of&nbsp;the&nbsp;constraints&nbsp;of&nbsp;this<br>
set.&nbsp;If&nbsp;constraints&nbsp;from&nbsp;a&nbsp;different&nbsp;constraint&nbsp;are&nbsp;added,&nbsp;an&nbsp;error&nbsp;will&nbsp;be<br>
raised.&nbsp;If&nbsp;this&nbsp;instance&nbsp;contains&nbsp;no&nbsp;constraints&nbsp;this&nbsp;will&nbsp;return&nbsp;None</tt></dd>
</dl>
<hr>
Data descriptors inherited from <a href="constitch.constraints.html#ConstraintSet">constitch.constraints.ConstraintSet</a>:<br>
<dl><dt><strong>__dict__</strong></dt>
<dd><tt>dictionary&nbsp;for&nbsp;instance&nbsp;variables&nbsp;(if&nbsp;defined)</tt></dd>
</dl>
<dl><dt><strong>__weakref__</strong></dt>
<dd><tt>list&nbsp;of&nbsp;weak&nbsp;references&nbsp;to&nbsp;the&nbsp;object&nbsp;(if&nbsp;defined)</tt></dd>
</dl>
<hr>
Data and other attributes inherited from <a href="constitch.constraints.html#ConstraintSet">constitch.constraints.ConstraintSet</a>:<br>
<dl><dt><strong>ATTRS</strong> = ['dx', 'dy', 'score', 'error', 'overlap', 'overlap_x', 'overlap_y', 'overlap_ratio', 'overlap_ratio_x', 'overlap_ratio_y', 'size', 'difference']</dl>

</td></tr></table> <p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ffc8d8">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#000000" face="helvetica, arial"><a name="SubCompositeImage">class <strong>SubCompositeImage</strong></a>(<a href="constitch.composite.html#CompositeImage">CompositeImage</a>)</font></td></tr>
    
<tr bgcolor="#ffc8d8"><td rowspan=2><tt>&nbsp;&nbsp;&nbsp;</tt></td>
<td colspan=2><tt><a href="#SubCompositeImage">SubCompositeImage</a>(composite,&nbsp;mapping,&nbsp;layer=None,&nbsp;debug=True,&nbsp;progress=False,&nbsp;executor=None,&nbsp;aligner=None)<br>
&nbsp;<br>
<br>&nbsp;</tt></td></tr>
<tr><td>&nbsp;</td>
<td width="100%"><dl><dt>Method resolution order:</dt>
<dd><a href="constitch.composite.html#SubCompositeImage">SubCompositeImage</a></dd>
<dd><a href="constitch.composite.html#CompositeImage">CompositeImage</a></dd>
<dd><a href="builtins.html#object">builtins.object</a></dd>
</dl>
<hr>
Methods defined here:<br>
<dl><dt><a name="SubCompositeImage-__init__"><strong>__init__</strong></a>(self, composite, mapping, layer=None, debug=True, progress=False, executor=None, aligner=None)</dt><dd><tt>Initialize&nbsp;self.&nbsp;&nbsp;See&nbsp;help(type(self))&nbsp;for&nbsp;accurate&nbsp;signature.</tt></dd></dl>

<dl><dt><a name="SubCompositeImage-contains"><strong>contains</strong></a>(self, index)</dt></dl>

<dl><dt><a name="SubCompositeImage-convert"><strong>convert</strong></a>(self, constraints)</dt></dl>

<dl><dt><a name="SubCompositeImage-layer"><strong>layer</strong></a>(self, index)</dt><dd><tt>Returns&nbsp;a&nbsp;SubComposite&nbsp;with&nbsp;only&nbsp;images&nbsp;that&nbsp;are&nbsp;on&nbsp;the&nbsp;specified&nbsp;layer,&nbsp;that&nbsp;is<br>
all&nbsp;images&nbsp;where&nbsp;box.position[2]&nbsp;==&nbsp;index.<br>
Layers&nbsp;can&nbsp;be&nbsp;created&nbsp;when&nbsp;calling&nbsp;<a href="#SubCompositeImage-merge">merge</a>()&nbsp;with&nbsp;new_layer=True<br>
or&nbsp;manually&nbsp;by&nbsp;specifying&nbsp;a&nbsp;third&nbsp;dimension&nbsp;when&nbsp;adding&nbsp;images</tt></dd></dl>

<dl><dt><a name="SubCompositeImage-merge"><strong>merge</strong></a>(self, other_composite)</dt><dd><tt>Adds&nbsp;all&nbsp;images&nbsp;and&nbsp;constraints&nbsp;from&nbsp;another&nbsp;montage&nbsp;into&nbsp;this&nbsp;one.<br>
&nbsp;<br>
other_composite:&nbsp;<a href="#CompositeImage">CompositeImage</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;Another&nbsp;composite&nbsp;instance&nbsp;that&nbsp;will&nbsp;be&nbsp;added&nbsp;to&nbsp;this&nbsp;one.&nbsp;All&nbsp;images&nbsp;from<br>
&nbsp;&nbsp;&nbsp;&nbsp;it&nbsp;are&nbsp;added&nbsp;to&nbsp;this&nbsp;instance.&nbsp;All&nbsp;image&nbsp;positions&nbsp;are&nbsp;added,&nbsp;mantaining<br>
&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;scale_factors&nbsp;of&nbsp;both&nbsp;composites.<br>
&nbsp;<br>
Returns:&nbsp;list&nbsp;of&nbsp;indices<br>
&nbsp;&nbsp;&nbsp;&nbsp;returns&nbsp;the&nbsp;list&nbsp;of&nbsp;indices&nbsp;of&nbsp;the&nbsp;images&nbsp;added&nbsp;from&nbsp;the&nbsp;other&nbsp;composite.</tt></dd></dl>

<dl><dt><a name="SubCompositeImage-pair_func"><strong>pair_func</strong></a>(self)</dt></dl>

<dl><dt><a name="SubCompositeImage-random_pair_func"><strong>random_pair_func</strong></a>(self)</dt></dl>

<dl><dt><a name="SubCompositeImage-subcomposite"><strong>subcomposite</strong></a>(self, indices)</dt><dd><tt>Returns&nbsp;a&nbsp;new&nbsp;composite&nbsp;with&nbsp;a&nbsp;subset&nbsp;of&nbsp;the&nbsp;images&nbsp;and&nbsp;constraints&nbsp;in&nbsp;this&nbsp;one.<br>
The&nbsp;images&nbsp;and&nbsp;positions&nbsp;are&nbsp;shared,&nbsp;so&nbsp;modifing&nbsp;them&nbsp;on&nbsp;the&nbsp;new&nbsp;composite&nbsp;will<br>
change&nbsp;them&nbsp;on&nbsp;the&nbsp;original.<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;indices:&nbsp;sequence&nbsp;of&nbsp;ints,&nbsp;sequence&nbsp;of&nbsp;bools,&nbsp;function<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;way&nbsp;to&nbsp;select&nbsp;the&nbsp;images&nbsp;to&nbsp;be&nbsp;included&nbsp;in&nbsp;the&nbsp;new&nbsp;composite.&nbsp;Can&nbsp;be:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a&nbsp;sequence&nbsp;of&nbsp;indices,&nbsp;a&nbsp;sequence&nbsp;of&nbsp;boolean&nbsp;values&nbsp;the&nbsp;same&nbsp;length&nbsp;as&nbsp;images,<br>
&nbsp;&nbsp;&nbsp;&nbsp;kwargs:&nbsp;arguments&nbsp;passed&nbsp;to&nbsp;the&nbsp;constructor&nbsp;of&nbsp;the&nbsp;subcomposite</tt></dd></dl>

<hr>
Readonly properties defined here:<br>
<dl><dt><strong>debug</strong></dt>
</dl>
<dl><dt><strong>positional_error</strong></dt>
</dl>
<dl><dt><strong>progress</strong></dt>
</dl>
<dl><dt><strong>scale</strong></dt>
</dl>
<hr>
Data descriptors defined here:<br>
<dl><dt><strong>multichannel</strong></dt>
</dl>
<hr>
Methods inherited from <a href="constitch.composite.html#CompositeImage">CompositeImage</a>:<br>
<dl><dt><a name="SubCompositeImage-add_image"><strong>add_image</strong></a>(self, image, position=None, box=None, scale='pixel', imagescale=1)</dt></dl>

<dl><dt><a name="SubCompositeImage-add_images"><strong>add_images</strong></a>(self, images, positions=None, boxes=None, scale='pixel', channel_axis=None, imagescale=1)</dt><dd><tt>Adds&nbsp;images&nbsp;to&nbsp;the&nbsp;composite<br>
&nbsp;<br>
Args:<br>
&nbsp;&nbsp;&nbsp;&nbsp;images&nbsp;(np.ndarray&nbsp;shape&nbsp;(N,&nbsp;W,&nbsp;H)&nbsp;or&nbsp;list&nbsp;of&nbsp;N&nbsp;np.ndarrays&nbsp;shape&nbsp;(W,&nbsp;H)&nbsp;or&nbsp;list&nbsp;of&nbsp;strings):<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;images&nbsp;that&nbsp;will&nbsp;be&nbsp;stitched&nbsp;together.&nbsp;Can&nbsp;pass&nbsp;a&nbsp;list&nbsp;of<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;paths&nbsp;that&nbsp;will&nbsp;be&nbsp;opened&nbsp;by&nbsp;imageio.v3.imread&nbsp;when&nbsp;needed.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Passing&nbsp;paths&nbsp;will&nbsp;require&nbsp;less&nbsp;memory&nbsp;as&nbsp;images&nbsp;are&nbsp;not&nbsp;stored,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;but&nbsp;will&nbsp;increase&nbsp;computation&nbsp;time.<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;positions&nbsp;(np.ndarray&nbsp;shape&nbsp;(N,&nbsp;D)&nbsp;):<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Specifies&nbsp;the&nbsp;extimated&nbsp;positions&nbsp;of&nbsp;each&nbsp;image.&nbsp;The&nbsp;approx&nbsp;values&nbsp;are<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;used&nbsp;to&nbsp;decide&nbsp;which&nbsp;images&nbsp;are&nbsp;overlapping.&nbsp;These&nbsp;values&nbsp;are&nbsp;interpreted<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;using&nbsp;the&nbsp;scale&nbsp;argument,&nbsp;default&nbsp;they&nbsp;are&nbsp;pixel&nbsp;values.<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;boxes&nbsp;(sequence&nbsp;of&nbsp;<a href="#BBox">BBox</a>):<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;An&nbsp;alternative&nbsp;to&nbsp;specifying&nbsp;the&nbsp;positions,&nbsp;the&nbsp;full&nbsp;bounding&nbsp;boxes&nbsp;of&nbsp;every&nbsp;image&nbsp;can&nbsp;also<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;be&nbsp;passed&nbsp;in.&nbsp;The&nbsp;units&nbsp;of&nbsp;the&nbsp;boxes&nbsp;are&nbsp;interpreted&nbsp;the&nbsp;same&nbsp;as&nbsp;image&nbsp;positions,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;the&nbsp;scale&nbsp;argument&nbsp;deciding&nbsp;their&nbsp;relation&nbsp;to&nbsp;the&nbsp;scale&nbsp;of&nbsp;pixels.<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;scale&nbsp;('pixel',&nbsp;'tile',&nbsp;float,&nbsp;or&nbsp;sequence):<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;scale&nbsp;argument&nbsp;is&nbsp;used&nbsp;to&nbsp;interpret&nbsp;the&nbsp;position&nbsp;values&nbsp;given.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'pixel'&nbsp;means&nbsp;the&nbsp;values&nbsp;are&nbsp;pixel&nbsp;values,&nbsp;equivalent&nbsp;to&nbsp;putting&nbsp;1.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'tile'&nbsp;means&nbsp;the&nbsp;values&nbsp;are&nbsp;indices&nbsp;in&nbsp;a&nbsp;tile&nbsp;grid,&nbsp;eg&nbsp;a&nbsp;unit&nbsp;of&nbsp;1&nbsp;is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;width&nbsp;of&nbsp;an&nbsp;image.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a&nbsp;float&nbsp;value&nbsp;means&nbsp;the&nbsp;position&nbsp;values&nbsp;are&nbsp;a&nbsp;units&nbsp;where&nbsp;one&nbsp;unit&nbsp;is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;given&nbsp;number&nbsp;of&nbsp;pixels.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If&nbsp;a&nbsp;sequence&nbsp;is&nbsp;given,&nbsp;each&nbsp;element&nbsp;can&nbsp;be&nbsp;any&nbsp;of&nbsp;the&nbsp;previous&nbsp;values,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;which&nbsp;are&nbsp;applied&nbsp;to&nbsp;each&nbsp;axis.</tt></dd></dl>

<dl><dt><a name="SubCompositeImage-add_split_image"><strong>add_split_image</strong></a>(self, image, grid_size=None, tile_shape=None, overlap=0.1, channel_axis=None)</dt><dd><tt>Adds&nbsp;an&nbsp;image&nbsp;split&nbsp;into&nbsp;a&nbsp;number&nbsp;of&nbsp;tiles.&nbsp;This&nbsp;can&nbsp;be&nbsp;used&nbsp;to&nbsp;divide&nbsp;up<br>
a&nbsp;large&nbsp;image&nbsp;into&nbsp;smaller&nbsp;pieces&nbsp;for&nbsp;efficient&nbsp;processing.&nbsp;The&nbsp;resulting<br>
images&nbsp;are&nbsp;guaranteed&nbsp;to&nbsp;all&nbsp;be&nbsp;the&nbsp;same&nbsp;size.<br>
A&nbsp;common&nbsp;pattern&nbsp;would&nbsp;be:<br>
&nbsp;<br>
composite.<a href="#SubCompositeImage-add_split_image">add_split_image</a>(image,&nbsp;10)<br>
for&nbsp;i&nbsp;in&nbsp;range(len(composite.images)):<br>
&nbsp;&nbsp;&nbsp;&nbsp;composite.images[i]&nbsp;=&nbsp;process(composite.images[i])<br>
result&nbsp;=&nbsp;composite.stitch_images()<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;image:&nbsp;ndarray<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;image&nbsp;that&nbsp;will&nbsp;be&nbsp;split&nbsp;into&nbsp;tiles<br>
&nbsp;&nbsp;&nbsp;&nbsp;grid_size:&nbsp;int&nbsp;or&nbsp;(int,&nbsp;int)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;number&nbsp;of&nbsp;tiles&nbsp;to&nbsp;split&nbsp;the&nbsp;image&nbsp;into.&nbsp;Either&nbsp;this&nbsp;or&nbsp;tile_shape<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;should&nbsp;be&nbsp;specified.<br>
&nbsp;&nbsp;&nbsp;&nbsp;tile_shape:&nbsp;(int,&nbsp;int)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;shape&nbsp;of&nbsp;the&nbsp;resulting&nbsp;tiles,&nbsp;if&nbsp;grid_size&nbsp;isn't&nbsp;specified&nbsp;the&nbsp;maximum<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;number&nbsp;of&nbsp;tiles&nbsp;that&nbsp;fit&nbsp;in&nbsp;the&nbsp;image&nbsp;are&nbsp;extracted.&nbsp;Whether&nbsp;specified&nbsp;or&nbsp;not,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;size&nbsp;of&nbsp;all&nbsp;tiles&nbsp;created&nbsp;is&nbsp;guaranteed&nbsp;to&nbsp;be&nbsp;uniform.<br>
&nbsp;&nbsp;&nbsp;&nbsp;overlap:&nbsp;float,&nbsp;int&nbsp;or&nbsp;(float&nbsp;or&nbsp;int,&nbsp;float&nbsp;or&nbsp;int)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;amount&nbsp;of&nbsp;overlap&nbsp;between&nbsp;neighboring&nbsp;tiles.&nbsp;Zero&nbsp;will&nbsp;result&nbsp;in&nbsp;no&nbsp;overlap,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a&nbsp;floating&nbsp;point&nbsp;number&nbsp;represents&nbsp;a&nbsp;percentage&nbsp;of&nbsp;the&nbsp;size&nbsp;of&nbsp;the&nbsp;tile,&nbsp;and&nbsp;an<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;integer&nbsp;number&nbsp;represents&nbsp;a&nbsp;flat&nbsp;pixel&nbsp;overlap.&nbsp;The&nbsp;overlap&nbsp;is&nbsp;treated&nbsp;as&nbsp;a&nbsp;lower&nbsp;bound,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;as&nbsp;it&nbsp;is&nbsp;not&nbsp;always&nbsp;possible&nbsp;to&nbsp;get&nbsp;the&nbsp;exact&nbsp;overlap&nbsp;requested&nbsp;due&nbsp;to&nbsp;rounding&nbsp;issues,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and&nbsp;in&nbsp;some&nbsp;cases&nbsp;more&nbsp;overlap&nbsp;will&nbsp;exist&nbsp;between&nbsp;some&nbsp;tiles</tt></dd></dl>

<dl><dt><a name="SubCompositeImage-align_disconnected_regions"><strong>align_disconnected_regions</strong></a>(self, num_test_points=0.05, expand_range=5)</dt><dd><tt>Looks&nbsp;at&nbsp;the&nbsp;current&nbsp;constraints&nbsp;in&nbsp;this&nbsp;composite&nbsp;and&nbsp;sees&nbsp;if&nbsp;there&nbsp;are&nbsp;any&nbsp;images&nbsp;or<br>
groups&nbsp;of&nbsp;images&nbsp;that&nbsp;are&nbsp;fully&nbsp;disconnected&nbsp;from&nbsp;the&nbsp;rest&nbsp;of&nbsp;the&nbsp;images.&nbsp;If&nbsp;any&nbsp;are&nbsp;found,<br>
they&nbsp;are&nbsp;attempted&nbsp;to&nbsp;be&nbsp;joined&nbsp;back&nbsp;together&nbsp;by&nbsp;calculating&nbsp;select&nbsp;constraints&nbsp;between&nbsp;the<br>
two&nbsp;groups</tt></dd></dl>

<dl><dt><a name="SubCompositeImage-calc_score_threshold"><strong>calc_score_threshold</strong></a>(self, num_samples=None, random_state=12345)</dt><dd><tt>Estimates&nbsp;a&nbsp;threshold&nbsp;for&nbsp;selecting&nbsp;constraints&nbsp;with&nbsp;good&nbsp;overlap.<br>
&nbsp;<br>
Done&nbsp;by&nbsp;calculating&nbsp;random&nbsp;constraints&nbsp;and&nbsp;using&nbsp;a&nbsp;gaussian&nbsp;mixture&nbsp;model<br>
to&nbsp;distinguish&nbsp;random&nbsp;constraints&nbsp;from&nbsp;real&nbsp;constraints<br>
&nbsp;<br>
Args:<br>
&nbsp;&nbsp;&nbsp;&nbsp;num_samples&nbsp;(float):&nbsp;optional<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;number&nbsp;of&nbsp;fake&nbsp;constraints&nbsp;to&nbsp;be&nbsp;generated,&nbsp;defaults&nbsp;to&nbsp;0.25*len(images).<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;In&nbsp;general&nbsp;the&nbsp;more&nbsp;samples&nbsp;the&nbsp;better&nbsp;the&nbsp;estimate,&nbsp;at&nbsp;the&nbsp;expense&nbsp;of&nbsp;speed<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;random_state&nbsp;(int):&nbsp;Used&nbsp;as&nbsp;a&nbsp;seed&nbsp;to&nbsp;get&nbsp;reproducible&nbsp;results<br>
&nbsp;<br>
Returns&nbsp;(float):<br>
&nbsp;&nbsp;&nbsp;&nbsp;threshold&nbsp;for&nbsp;score&nbsp;where&nbsp;all&nbsp;scores&nbsp;lower&nbsp;are&nbsp;likely&nbsp;to&nbsp;be&nbsp;bad&nbsp;constraints</tt></dd></dl>

<dl><dt><a name="SubCompositeImage-constraint_error"><strong>constraint_error</strong></a>(self, i, j, constraint)</dt></dl>

<dl><dt><a name="SubCompositeImage-copy"><strong>copy</strong></a>(self, **kwargs)</dt><dd><tt>Creates&nbsp;a&nbsp;full&nbsp;copy&nbsp;of&nbsp;this&nbsp;composite.&nbsp;The&nbsp;only&nbsp;thing&nbsp;shared&nbsp;between&nbsp;this&nbsp;composite<br>
and&nbsp;the&nbsp;new&nbsp;copy&nbsp;is&nbsp;the&nbsp;raw&nbsp;image&nbsp;data.</tt></dd></dl>

<dl><dt><a name="SubCompositeImage-html_summary"><strong>html_summary</strong></a>(self, path, score_func=None)</dt></dl>

<dl><dt><a name="SubCompositeImage-plot_scores"><strong>plot_scores</strong></a>(self, path, constraints=None, score_func=None, axis_size=12)</dt></dl>

<dl><dt><a name="SubCompositeImage-print_mem_usage"><strong>print_mem_usage</strong></a>(self)</dt></dl>

<dl><dt><a name="SubCompositeImage-resized_image"><strong>resized_image</strong></a>(self, index, scale_x, scale_y)</dt><dd><tt>Returns&nbsp;the&nbsp;image&nbsp;at&nbsp;self.<strong>images</strong>[index]&nbsp;but&nbsp;upscaled&nbsp;or&nbsp;downscaled<br>
by&nbsp;scale_x&nbsp;and&nbsp;scale_y.<br>
&nbsp;<br>
Args:<br>
&nbsp;&nbsp;&nbsp;&nbsp;index&nbsp;(int):&nbsp;index&nbsp;of&nbsp;image<br>
&nbsp;&nbsp;&nbsp;&nbsp;scale_x&nbsp;(int,&nbsp;float,&nbsp;fractions.Fraction):&nbsp;The&nbsp;scale&nbsp;multiplier&nbsp;across&nbsp;the&nbsp;x&nbsp;axis<br>
&nbsp;&nbsp;&nbsp;&nbsp;scale_x&nbsp;(int,&nbsp;float,&nbsp;fractions.Fraction):&nbsp;The&nbsp;scale&nbsp;multiplier&nbsp;across&nbsp;the&nbsp;y&nbsp;axis</tt></dd></dl>

<dl><dt><a name="SubCompositeImage-score_heatmap"><strong>score_heatmap</strong></a>(self, path, score_func=None)</dt></dl>

<dl><dt><a name="SubCompositeImage-set_aligner"><strong>set_aligner</strong></a>(self, aligner, rescore_constraints=False)</dt></dl>

<dl><dt><a name="SubCompositeImage-set_executor"><strong>set_executor</strong></a>(self, executor)</dt></dl>

<dl><dt><a name="SubCompositeImage-set_logging"><strong>set_logging</strong></a>(self, debug=True, progress=False)</dt></dl>

<dl><dt><a name="SubCompositeImage-set_scale"><strong>set_scale</strong></a>(self, scale_factor)</dt><dd><tt>Sets&nbsp;the&nbsp;scale&nbsp;factor&nbsp;of&nbsp;the&nbsp;composite.&nbsp;Normally&nbsp;this&nbsp;doesn't&nbsp;need&nbsp;to&nbsp;be&nbsp;changed,<br>
however&nbsp;if&nbsp;you&nbsp;are&nbsp;trying&nbsp;to&nbsp;stich&nbsp;together&nbsp;images&nbsp;taken&nbsp;at&nbsp;different&nbsp;magnifications&nbsp;you<br>
may&nbsp;need&nbsp;to&nbsp;modify&nbsp;the&nbsp;scale&nbsp;factor.<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;scale_factor:&nbsp;float&nbsp;or&nbsp;int<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Scale&nbsp;of&nbsp;images&nbsp;in&nbsp;this&nbsp;composite,&nbsp;as&nbsp;a&nbsp;multiplier.&nbsp;Eg&nbsp;a&nbsp;scale_factor&nbsp;of<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;10&nbsp;will&nbsp;result&nbsp;in&nbsp;each&nbsp;pixel&nbsp;in&nbsp;images&nbsp;corresponding&nbsp;to&nbsp;10&nbsp;pixels&nbsp;in&nbsp;the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output&nbsp;of&nbsp;functions&nbsp;like&nbsp;`<a href="#CompositeImage">CompositeImage</a>.stitch_images()`&nbsp;or&nbsp;when&nbsp;merging&nbsp;composites&nbsp;together.</tt></dd></dl>

<dl><dt><a name="SubCompositeImage-setimages"><strong>setimages</strong></a>(self, images)</dt><dd><tt>Updates&nbsp;the&nbsp;images&nbsp;of&nbsp;this&nbsp;composite.<br>
&nbsp;<br>
images&nbsp;(sequence&nbsp;or&nbsp;dict):&nbsp;The&nbsp;new&nbsp;images&nbsp;to&nbsp;be&nbsp;set<br>
&nbsp;&nbsp;&nbsp;&nbsp;If&nbsp;a&nbsp;sequence,&nbsp;it&nbsp;must&nbsp;be&nbsp;the&nbsp;current&nbsp;length&nbsp;of&nbsp;self.<strong>images</strong>.&nbsp;Each<br>
&nbsp;&nbsp;&nbsp;&nbsp;image&nbsp;is&nbsp;updated&nbsp;with&nbsp;the&nbsp;corresponding&nbsp;new&nbsp;image&nbsp;in&nbsp;the&nbsp;sequence.<br>
&nbsp;&nbsp;&nbsp;&nbsp;If&nbsp;a&nbsp;dict,&nbsp;it&nbsp;must&nbsp;map&nbsp;from&nbsp;indices&nbsp;within&nbsp;the&nbsp;range&nbsp;[0,&nbsp;len(self.<strong>images</strong>))<br>
&nbsp;&nbsp;&nbsp;&nbsp;to&nbsp;new&nbsp;images,&nbsp;that&nbsp;are&nbsp;set&nbsp;at&nbsp;said&nbsp;indices.<br>
&nbsp;&nbsp;&nbsp;&nbsp;All&nbsp;images&nbsp;must&nbsp;be&nbsp;numpy&nbsp;arrays&nbsp;of&nbsp;shape&nbsp;either&nbsp;(W,&nbsp;H)&nbsp;or&nbsp;(W,&nbsp;H,&nbsp;C).</tt></dd></dl>

<dl><dt><a name="SubCompositeImage-setpositions"><strong>setpositions</strong></a>(self, positions)</dt><dd><tt>Applies&nbsp;new&nbsp;positions&nbsp;to&nbsp;images&nbsp;in&nbsp;this&nbsp;composite.&nbsp;positions&nbsp;is&nbsp;either&nbsp;a&nbsp;dict<br>
mapping&nbsp;image&nbsp;indices&nbsp;to&nbsp;new&nbsp;positions,&nbsp;a&nbsp;sequence&nbsp;of&nbsp;new&nbsp;positions,&nbsp;or&nbsp;a&nbsp;constitch.Solver<br>
class&nbsp;that&nbsp;has&nbsp;had&nbsp;solve()&nbsp;run&nbsp;on&nbsp;it,&nbsp;usually&nbsp;from&nbsp;<a href="constitch.constraints.html#ConstraintSet">ConstraintSet</a>.solve</tt></dd></dl>

<dl><dt><a name="SubCompositeImage-stitch"><strong>stitch</strong></a>(self, indices=None, real_images=None, out=None, bg_value=None, return_bg_mask=False, mins=None, maxes=None, keep_zero=False, merger=None)</dt><dd><tt>Combines&nbsp;images&nbsp;in&nbsp;the&nbsp;composite&nbsp;into&nbsp;a&nbsp;single&nbsp;image<br>
&nbsp;<br>
indices:&nbsp;sequence&nbsp;of&nbsp;int<br>
&nbsp;&nbsp;&nbsp;&nbsp;Indices&nbsp;of&nbsp;images&nbsp;in&nbsp;the&nbsp;composite&nbsp;to&nbsp;be&nbsp;stitched&nbsp;together<br>
&nbsp;<br>
real_images:&nbsp;sequence&nbsp;of&nbsp;np.ndarray<br>
&nbsp;&nbsp;&nbsp;&nbsp;An&nbsp;alternative&nbsp;image&nbsp;list&nbsp;to&nbsp;be&nbsp;used&nbsp;in&nbsp;the&nbsp;stitching,&nbsp;instead&nbsp;of<br>
&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;stored&nbsp;images.&nbsp;Must&nbsp;be&nbsp;same&nbsp;length&nbsp;and&nbsp;each&nbsp;image&nbsp;must&nbsp;have&nbsp;the<br>
&nbsp;&nbsp;&nbsp;&nbsp;first&nbsp;two&nbsp;dimensions&nbsp;the&nbsp;same&nbsp;size&nbsp;as&nbsp;self.<strong>images</strong><br>
&nbsp;<br>
bg_value:&nbsp;scalar&nbsp;or&nbsp;array<br>
&nbsp;&nbsp;&nbsp;&nbsp;Value&nbsp;to&nbsp;fill&nbsp;empty&nbsp;areas&nbsp;of&nbsp;the&nbsp;image.<br>
&nbsp;<br>
return_bg_mask:&nbsp;bool<br>
&nbsp;&nbsp;&nbsp;&nbsp;If&nbsp;True&nbsp;a&nbsp;boolean&nbsp;mask&nbsp;of&nbsp;the&nbsp;background,&nbsp;pixels&nbsp;with&nbsp;no&nbsp;images<br>
&nbsp;&nbsp;&nbsp;&nbsp;in&nbsp;them,&nbsp;is&nbsp;returned.<br>
&nbsp;<br>
keep_zero:&nbsp;bool<br>
&nbsp;&nbsp;&nbsp;&nbsp;Whether&nbsp;or&nbsp;not&nbsp;to&nbsp;keep&nbsp;the&nbsp;origin&nbsp;in&nbsp;the&nbsp;result.&nbsp;If&nbsp;true&nbsp;this&nbsp;could<br>
&nbsp;&nbsp;&nbsp;&nbsp;result&nbsp;in&nbsp;extra&nbsp;blank&nbsp;space,&nbsp;which&nbsp;might&nbsp;be&nbsp;necessary&nbsp;when&nbsp;lining&nbsp;up<br>
&nbsp;&nbsp;&nbsp;&nbsp;multiple&nbsp;images.<br>
&nbsp;<br>
Returns:&nbsp;np.ndarray<br>
&nbsp;&nbsp;&nbsp;&nbsp;image&nbsp;stitched&nbsp;together</tt></dd></dl>

<dl><dt><a name="SubCompositeImage-to_obj"><strong>to_obj</strong></a>(self)</dt></dl>

<hr>
Class methods inherited from <a href="constitch.composite.html#CompositeImage">CompositeImage</a>:<br>
<dl><dt><a name="SubCompositeImage-from_obj"><strong>from_obj</strong></a>(obj, **kwargs)<font color="#909090"><font face="helvetica, arial"> from <a href="builtins.html#type">builtins.type</a></font></font></dt></dl>

<hr>
Readonly properties inherited from <a href="constitch.composite.html#CompositeImage">CompositeImage</a>:<br>
<dl><dt><strong>positions</strong></dt>
</dl>
<hr>
Data descriptors inherited from <a href="constitch.composite.html#CompositeImage">CompositeImage</a>:<br>
<dl><dt><strong>__dict__</strong></dt>
<dd><tt>dictionary&nbsp;for&nbsp;instance&nbsp;variables&nbsp;(if&nbsp;defined)</tt></dd>
</dl>
<dl><dt><strong>__weakref__</strong></dt>
<dd><tt>list&nbsp;of&nbsp;weak&nbsp;references&nbsp;to&nbsp;the&nbsp;object&nbsp;(if&nbsp;defined)</tt></dd>
</dl>
</td></tr></table> <p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ffc8d8">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#000000" face="helvetica, arial"><a name="SubCompositeList">class <strong>SubCompositeList</strong></a>(<a href="builtins.html#object">builtins.object</a>)</font></td></tr>
    
<tr bgcolor="#ffc8d8"><td rowspan=2><tt>&nbsp;&nbsp;&nbsp;</tt></td>
<td colspan=2><tt><a href="#SubCompositeList">SubCompositeList</a>(items,&nbsp;mapping)<br>
&nbsp;<br>
<br>&nbsp;</tt></td></tr>
<tr><td>&nbsp;</td>
<td width="100%">Methods defined here:<br>
<dl><dt><a name="SubCompositeList-__getitem__"><strong>__getitem__</strong></a>(self, index)</dt></dl>

<dl><dt><a name="SubCompositeList-__init__"><strong>__init__</strong></a>(self, items, mapping)</dt><dd><tt>Initialize&nbsp;self.&nbsp;&nbsp;See&nbsp;help(type(self))&nbsp;for&nbsp;accurate&nbsp;signature.</tt></dd></dl>

<dl><dt><a name="SubCompositeList-__iter__"><strong>__iter__</strong></a>(self)</dt></dl>

<dl><dt><a name="SubCompositeList-__len__"><strong>__len__</strong></a>(self)</dt></dl>

<dl><dt><a name="SubCompositeList-__setitem__"><strong>__setitem__</strong></a>(self, index, item)</dt></dl>

<dl><dt><a name="SubCompositeList-append"><strong>append</strong></a>(self, item)</dt></dl>

<hr>
Data descriptors defined here:<br>
<dl><dt><strong>__dict__</strong></dt>
<dd><tt>dictionary&nbsp;for&nbsp;instance&nbsp;variables&nbsp;(if&nbsp;defined)</tt></dd>
</dl>
<dl><dt><strong>__weakref__</strong></dt>
<dd><tt>list&nbsp;of&nbsp;weak&nbsp;references&nbsp;to&nbsp;the&nbsp;object&nbsp;(if&nbsp;defined)</tt></dd>
</dl>
</td></tr></table></td></tr></table>
</body></html>